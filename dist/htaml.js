(()=>{"use strict";var __webpack_modules__={733:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t){let n=t.value;const o=e.root;let a=(0,r.getHTAMLElementByDomId)(n);if(a)a=a.root;else if(a=document.querySelector(`input[name="${n}"]`),!a)return null;a.addEventListener("htaml_change",(e=>{{const t=e.target;switch(e.detail,t.tagName){case"select":case"textarea":case"input":o.value=t.value;break;default:o.textContent=t.value}}}))}},63:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=e.root;"cloak"===t.value?n.classList.add("htaml-cloak"):"hide"===t.value&&n.classList.add("htaml-hide")}},495:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t,n){let o=new n(t.value);const a=(0,r.htamlEval)(o);Object.assign(e.variables,a)}},430:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t){let n=t.value;const o=e.root;o.removeAttribute(t.action);const a=n.split(",").reverse();for(const s of a)n=(0,r.replaceVariable)(s,e),n&&(n=(0,r.htamlEval)(n),n&&(o[t.action]=n))}},690:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t){(0,r.addHTAMLElementToDomIds)(e,t.value)}},577:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t,n){return"this"===t.value?n((e=(0,r.removeHTAMLAttributeFromHTAMLElement)(e,t)).childrens):t.value,null}},907:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.domText=t.domSwitch=t.domSwap=t.domProc=t.domIgnore=t.domId=t.domDefaultAttr=t.domData=t.domCloak=t.domBindTo=void 0;const o=r(n(733));t.domBindTo=o.default;const a=r(n(63));t.domCloak=a.default;const s=r(n(495));t.domData=s.default;const i=r(n(430));t.domDefaultAttr=i.default;const l=r(n(690));t.domId=l.default;const u=r(n(577));t.domIgnore=u.default;const c=r(n(467));t.domProc=c.default;const d=r(n(304));t.domSwap=d.default;const f=r(n(751));t.domSwitch=f.default;const m=r(n(884));t.domText=m.default},467:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(28)),a=n(163);t.default=function(e,t,n,r){let s=t.value;const i=s.split(" ")[0],l=e.root;let u=(0,a.getHTAMLElementByDomId)(i);if(u){(0,a.removeClassesFromHTAMLElement)(u,["htaml-cloak","htaml-hide"]),[{action:"cloak"},{action:"ignore"}].forEach((e=>u=(0,a.removeHTAMLAttributeFromHTAMLElement)(u,e)));let e=!1;const t=s.match(o.default.MODIFIERS_REGEX);if(t&&t.length)for(let r of t)if(r=r.split(":"),s=r[1],"on_process"===r[0])if("replace"===s){const t=(0,a.cloneHTAMLNode)(u,{removeOriginal:!0});u=n(t),u&&(l.insertAdjacentElement("afterend",u.root),e=!0)}else"scroll"===s&&(u=n(u),u&&(window.scrollTo({top:u.root.scrollHeight,behavior:"smooth"}),e=!0));e||r([u])}}},304:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(28)),a=n(163),s=n(22);t.default=function(e,t,n){let r=t.value;const i=e.root;let l=null;const u=r.split(" ")[0];if("this"===u)l=i;else if(l=(0,a.getHTAMLElementByDomId)(u),l)l=l.root;else if(l=document.querySelector(u),!l)return null;const c=e.response.content.match(/<title>(\w*)<\/title>/i);c&&c.length>1&&(e.response.content=e.response.content.replace(new RegExp(c[0]),""),document.title=c[1]);const d=e.response.content,f=r.match(o.default.MODIFIERS_REGEX);if(f&&f.length)for(let e of f)e=e.split(":"),"replace"===e[0]&&(r=e[1],"outter"===r&&"HTML"!==l.tagName?l.outerHTML=d:("outter"===r&&"HTML"===l.tagName||"inner"===r)&&(l.innerHTML=d));else l.innerHTML=d;n([(0,s.parseElement)(document.body)])}},751:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(163),a=r(n(28));t.default=function(e,t){let n=t.value;const r=n.split(" ")[0],s=e.root;let i=(0,o.getHTAMLElementByDomId)(r);if(i){i=i.root;const e=n.match(a.default.MODIFIERS_REGEX);if(e){for(let t of e)switch(t=t.split(":"),n=t[1],t[0]){case"attr":document.querySelectorAll(`[${n}]`).forEach((e=>e.classList.add("htaml-hide")));break;case"active":document.querySelectorAll(`.${n}`).forEach((e=>e.classList.remove(n))),s.classList.add(n)}i.classList.remove("htaml-hide")}}}},884:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t){let n=t.value;const o=e.root;o.removeAttribute(t.action);const a=n.split(",").reverse();for(const t of a)n=(0,r.replaceVariable)(t,e),n&&(n=(0,r.htamlEval)(n),n&&o.insertAdjacentText("afterbegin",n))}},427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e){let t=e.root.innerText,n=t.match(/return\s(\w+)/);if(n&&n.length>2)return null;if(n&&2==n.length&&(n=n[1]),t=(0,r.replaceVariable)(t,e),t){t=t.replace(/\s\s/g,"");const o=(0,r.htamlEvalHScript)(t);o&&n&&(e.parent.variables[n]=o)}return null}},844:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.onTrigger=void 0;const o=r(n(328));t.onTrigger=o.default},328:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(163);t.default=function(e,t,n){const a=e.root,s=t.value.split(" ");e=(0,o.removeHTAMLAttributeFromHTAMLElement)(e,t);const i=l=>r(this,void 0,void 0,(function*(){(0,o.createEvent)(a,"htaml_change",e);const u=l.target;if(t.value.includes("once")&&u.removeEventListener(s[0],i),t.value.includes("delay")){let o=0;const a=t.value.match(/delay:(\d*)(\w)/);3==a.length&&("s"===a[2]?o=Number(1e3*a[1]):"ms"===a[2]&&(o=Number(1e6*a[1]))),(o>2147483647||o<1)&&(o=1),setTimeout((()=>r(this,void 0,void 0,(function*(){n(e)}))),o)}else n(e)}));return"submit"==t.value?a.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){let e=(0,o.getHTAMLElementByDomId)("form");if(!e)return null;const t=e.root,r={},a=t.querySelectorAll("input");for(const e of a)r[e.name]=e.value;const s=t.querySelectorAll("textarea");for(const e of s)r[e.name]=e.value;e.request.data=r,e=(0,o.removeHTAMLAttributeFromHTAMLElement)(e,{action:"ignore"}),yield n(e)})))):a.addEventListener(s[0],i),e}},558:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(78),o=n(163);t.default=function(e,t,n){return(0,r.htamlAGet)(t.value,e.request.config).then((r=>{e.response=r,e=(0,o.removeHTAMLAttributeFromHTAMLElement)(e,t),n(e)})),null}},446:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(78),o=n(163);t.default=function(e,t,n){const a=e.request.data;return a?(new Promise(((s,i)=>{e.response=(0,r.htamlPost)(t.value,a,!0,e.request.config),e=(0,o.removeHTAMLAttributeFromHTAMLElement)(e,t),n(e)})).then((()=>{})),null):e}},313:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.value=t.value.replace(/\s/g,""),t.value=t.value.replace(/\'/g,'"'),e.request.config=JSON.parse(t.value),e}},247:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(163),a=r(n(47));t.default=function(e,t){let n=new a.default(t.value);return e.request.data=(0,o.htamlEval)(n),e}},355:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(78);t.default=function(e,t){return e.response=(0,r.htamlGet)(t.value,!1,e.request.config),e}},43:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reqData=t.reqConfig=t.reqOut=t.reqAGet=t.reqGet=t.reqAPost=t.reqPost=void 0;const o=r(n(247));t.reqData=o.default;const a=r(n(313));t.reqConfig=a.default;const s=r(n(544));t.reqOut=s.default;const i=r(n(355));t.reqGet=i.default;const l=r(n(558));t.reqAGet=l.default;const u=r(n(17));t.reqPost=u.default;const c=r(n(446));t.reqAPost=c.default},544:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.variables[t.value]=e.response.body,e}},17:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(78);t.default=function(e,t){const n=e.request.data;return n&&(e.response=(0,r.htamlPost)(t.value,n,!1,e.request.config)),e}},337:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const config_1=__importDefault(__webpack_require__(28)),utils_1=__webpack_require__(163);function runFor(htamlElement,attribute,stepThroughHTAMLElement){const element=htamlElement.root;element.classList.add("htaml-cloak");let match=attribute.value.match(config_1.default.FOR_LOOP_REGEX);if(match&&match.length){let dataObject={},indexIdentifier="i";const forString=match[0].split("in"),replaceIdentifyer=forString[0].replace(/\s/g,""),loopIdentifyer=forString[1].replace(/\s/g,"");match.length>1&&match.slice(1).forEach((value=>{const values=value.split("=");if("index"===values[1])indexIdentifier=values[0];else{const _v=(0,utils_1.replaceVariable)(values[1],htamlElement);dataObject[values[0]]=_v?eval(_v):values[1]}}));let data=(0,utils_1.replaceVariable)(loopIdentifyer,htamlElement);if(data){(0,utils_1.removeChildNodesFromDOM)(htamlElement);const e=t=>{let n=(0,utils_1.cloneHTAMLNode)(t,{removeOriginalNode:!0});if(n=stepThroughHTAMLElement(n),n&&n.childrens)for(let t of n.childrens)t=e(t),n.root.appendChild(t.root);return n};for(let t of htamlElement.childrens){let n=0;for(let r of data)dataObject[indexIdentifier]=n,dataObject[replaceIdentifyer]=r,dataObject=JSON.parse(JSON.stringify(dataObject)),Object.assign(t.variables,dataObject),t=e(t),element.appendChild(t.root),n++}}(0,utils_1.removeClassesFromHTAMLElement)(htamlElement,["htaml-cloak","htaml-hide","htaml-hidden"])}return htamlElement}exports.default=runFor},417:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t){let n=(0,r.replaceVariable)(t.value,e);return n&&(n=n.replace(/\s\s/g,""),e.variables.hscript=(0,r.htamlEvalHScript)(n)),e}},623:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(163);t.default=function(e,t){const n=e.root;n.classList.add("htaml-hide");let o=(0,r.replaceVariable)(t.value,e,{isIf:!0});return o?(0,r.htamlEval)(o)?(e=(0,r.removeHTAMLAttributeFromHTAMLElement)(e,{action:"cloak"}),(0,r.removeClassesFromHTAMLElement)(e,["htaml-cloak","htaml-hide"]),e):(n.remove(),null):null}},450:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.runFor=t.runHScript=t.runIf=void 0;const o=r(n(337));t.runFor=o.default;const a=r(n(417));t.runHScript=a.default;const s=r(n(623));t.runIf=s.default},28:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={FOR_LOOP_REGEX:/(([a-zA-Z_-]+)\sin\s[.a-zA-Z_]+|([a-zA-Z_]+=[+-/*'0-9a-zA-Z_]+))/gi,DISABLED_ELEMENTS:["FORM","BUTTON","INPUT"],MODIFIERS_REGEX:/([a-zA-Z_]+:[a-zA-Z_]+)/gi,HTAML_REGEX:/(h|ht|hta|htaml)-(\w*):(\w*)/,HSCRIPT:"HSCRIPT"}},78:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.htamlPost=t.htamlAGet=t.htamlGet=void 0,t.htamlGet=function(e,t=!1,n){const r=new XMLHttpRequest;r.open("GET",e,t),n.hasOwnProperty("credentials")&&(r.withCredentials=n.credentials),n.hasOwnProperty("timeout")&&(r.timeout=Number(n.timeout)),n.hasOwnProperty("headers")&&Object.entries(n.headers).forEach((e=>r.setRequestHeader(e[0],e[1])));const o={content:"",body:"",status:0};return r.onload=function(e){if(o.content=this.response,o.status=this.status,200===this.status)try{o.body=JSON.parse(this.responseText)}catch(e){o.body=this.responseText}else o.status=this.status},r.send(),o},t.htamlAGet=function(e,t){return new Promise(((n,r)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),t.hasOwnProperty("credentials")&&(o.withCredentials=t.credentials),t.hasOwnProperty("timeout")&&(o.timeout=Number(t.timeout)),t.hasOwnProperty("headers")&&Object.entries(t.headers).forEach((e=>o.setRequestHeader(e[0],e[1]))),o.onload=function(e){const t={content:this.response,body:"",status:this.status};if(200===this.status)try{t.body=JSON.parse(this.responseText)}catch(e){t.body=this.responseText}else t.status=this.status;return n(t)},o.send()}))},t.htamlPost=function(e,t,n=!1,r){let o=!1;const a=new XMLHttpRequest;if(a.open("POST",e,n),r.hasOwnProperty("credentials")&&(a.withCredentials=r.credentials),r.hasOwnProperty("timeout")&&(a.timeout=Number(r.timeout)),r.hasOwnProperty("headers")&&Object.entries(r.headers).forEach((e=>{a.setRequestHeader(e[0],e[1]),"application/x-www-form-urlencoded"===e[1].toLowerCase()&&(o=!0)})),a.onload=function(e){const t={content:this.response,body:"",status:this.status};if(200===this.status)try{t.body=JSON.parse(this.responseText)}catch(e){t.body=this.responseText}else t.status=this.status},o){const e=new FormData;Object.entries(t).forEach((t=>{e.append(t[0],t[1])})),t=e}else{const e=[];Object.entries(t).forEach((t=>{e.push(`${encodeURIComponent(t[0])}=${encodeURIComponent(t[1])}`)})),t=e}return a.send(t),{content:"",body:"",status:0}}},163:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.htamlEval=exports.htamlEvalHScript=exports.createEvent=exports.isLetter=exports.isNumber=exports.getVariable=exports.removeClassesFromHTAMLElement=exports.replaceVariable=exports.removeHTAMLAttributeFromHTAMLElement=exports.cloneHTAMLNode=exports.reateEventOnHTAMLElement=exports.removeChildNodesFromDOM=exports.removeHTAMLAttributesFromHTAMLElement=exports.extractHTAMLAttributesFromElement=exports.addHTAMLElementToDomIds=exports.getHTAMLElementByDomId=exports.disableEvents=exports.logger=void 0;const config_1=__importDefault(__webpack_require__(28)),domIds={};function logger(e,t="info"){switch(t){case"info":console.info(`[+] HTAML Logger:  ${e}`);break;case"warn":console.warn(`[+] HTAML Logger:  ${e}`);break;case"error":console.error(`[+] HTAML Logger:  ${e}`);break;default:console.log(`[+] HTAML Logger:  ${e}`)}}function disableEvents(e){switch(e.root.tagName){case"INPUT":e.root.oninput=()=>{};break;case"BUTTON":e.root.onclick=e=>{e.preventDefault()};break;case"FORM":e.root.onsubmit=e=>{e.preventDefault(),alert("fopr")}}return e}function getHTAMLElementByDomId(e){return domIds.hasOwnProperty(e)?domIds[e]:null}function addHTAMLElementToDomIds(e,t){domIds[t]=e}function extractHTAMLAttributesFromElement(e){const t=[];if(!e.getAttributeNames().toString().match(config_1.default.HTAML_REGEX))return t;for(let n of e.getAttributeNames())if((n.startsWith("h-")||n.startsWith("ht-")||n.startsWith("hta-")||n.startsWith("htaml-"))&&n.includes(":")){const r=n.split(":"),o=r[0],a=r[1],s=e.getAttribute(n);s&&t.push({id:o,action:a,value:s})}return t}function removeHTAMLAttributesFromHTAMLElement(e){const t=e.root;for(let e of t.getAttributeNames())e.match(config_1.default.HTAML_REGEX)&&t.removeAttribute(e)}function removeChildNodesFromDOM(e){e.childrens.forEach((e=>e.root.remove()))}function reateEventOnHTAMLElement(e,t){return e.root.dispatchEvent(new Event(t)),e}function cloneHTAMLNode(e,t={cloneAll:!1,removeOriginal:!0}){const n={id:e.id,root:e.root.cloneNode(t.cloneAll),parent:e.parent,request:e.request,response:e.response,variables:e.variables,childrens:e.childrens,attributes:e.attributes};return t.removeOriginal&&e.root.remove(),n}function removeHTAMLAttributeFromHTAMLElement(e,t){return e.attributes=e.attributes.filter((e=>e.action!==t.action)),e.root.removeAttribute(`${t.id}:${t.action}`),e}function replaceVariable(e,t,n={stringify:!1,isIf:!1}){let r=e.match(/\$(\w+)/g);if(r&&r.length)for(const o of r){const r=getVariable(t,o.substring(1),n.stringify);r&&(e="string"==typeof r?e.replace(new RegExp(o,"g").source,`'${r}'`):e.replace(new RegExp(o,"g").source,r))}else if(t.root.tagName!==config_1.default.HSCRIPT){const r=e.match(/[([a-zA-Z_)|(a-zA-Z_\.)]+/gi),o=(e,t)=>{if(e){let r=null;for(const o of e)if(r)r.hasOwnProperty(o)?r=r[o]:r+=`.${o}`;else{const e=getVariable(t,o,n.stringify);if(!e)return null;r=e}return r}};if(r)for(const a of r)if(a.includes(".")){let r=a.split(".");if("this"===r[0]){if(r=r.splice(1),!o(r,{variables:t}))break;e=e.replace(new RegExp(a,"g").source,o(r,{variables:t}))}else{const s=o(r,t);if(!s)break;e=n.isIf?e.replace(new RegExp(a,"g").source,s):s}}else{const r=getVariable(t,a,n.stringify);if(!r){if(n.isIf)return null;break}e=n.isIf?e.replace(new RegExp(a,"g").source,r):r}}return e}function removeClassesFromHTAMLElement(e,t){return t.forEach((t=>{e.root.classList.remove(t)})),null}function getVariable(e,t,n=!1){let r=null;return e?(r=e.variables.hasOwnProperty(t)?e.variables[t]:getVariable(e.parent,t),n&&(r=JSON.stringify(r)),r):r}function isNumber(e){return 1===e.length&&e.match(/[0-9]/i)}function isLetter(e){return 1===e.length&&e.match(/[a-zA-Z0-9]/i)}function createEvent(e,t,n=null){return CustomEvent,HTMLElement,e.dispatchEvent(new CustomEvent(t,{detail:n})),e}function htamlEvalHScript(code){function _(){return new Function(code)()}const result=eval("_()");return result||null}function htamlEval(code,options={stringify:!1}){function _(){try{return new Function(`return ${JSON.stringify(code)}`)()}catch(e){return new Function(`return ${code}`)()}}const result=eval("_()");return result||null}exports.logger=logger,exports.disableEvents=disableEvents,exports.getHTAMLElementByDomId=getHTAMLElementByDomId,exports.addHTAMLElementToDomIds=addHTAMLElementToDomIds,exports.extractHTAMLAttributesFromElement=extractHTAMLAttributesFromElement,exports.removeHTAMLAttributesFromHTAMLElement=removeHTAMLAttributesFromHTAMLElement,exports.removeChildNodesFromDOM=removeChildNodesFromDOM,exports.reateEventOnHTAMLElement=reateEventOnHTAMLElement,exports.cloneHTAMLNode=cloneHTAMLNode,exports.removeHTAMLAttributeFromHTAMLElement=removeHTAMLAttributeFromHTAMLElement,exports.replaceVariable=replaceVariable,exports.removeClassesFromHTAMLElement=removeClassesFromHTAMLElement,exports.getVariable=getVariable,exports.isNumber=isNumber,exports.isLetter=isLetter,exports.createEvent=createEvent,exports.htamlEvalHScript=htamlEvalHScript,exports.htamlEval=htamlEval},656:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(47)),a=n(907);t.default=function(e,t,n,r){switch(t.action){case"id":(0,a.domId)(e,t);break;case"switch":(0,a.domSwitch)(e,t);break;case"bindto":(0,a.domBindTo)(e,t);break;case"proc":(0,a.domProc)(e,t,n,r);break;case"ignore":return(0,a.domIgnore)(e,t,r);case"swap":(0,a.domSwap)(e,t,r);break;case"cloak":(0,a.domCloak)(e,t);break;case"data":(0,a.domData)(e,t,o.default);break;case"text":(0,a.domText)(e,t);break;default:(0,a.domDefaultAttr)(e,t)}return e}},319:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(427));t.default=function(e){return(0,o.default)(e)}},215:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(844);t.default=function(e,t,n,o){return"trigger"===t.action&&(0,r.onTrigger)(e,t,n),e}},968:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(43),a=r(n(355));t.default=function(e,t,n){switch(t.action){case"data":e=(0,o.reqData)(e,t);break;case"config":e=(0,o.reqConfig)(e,t);break;case"out":e=(0,o.reqOut)(e,t);break;case"get":e=(0,a.default)(e,t);break;case"aget":e=(0,o.reqAGet)(e,t,n);break;case"post":e=(0,o.reqPost)(e,t);break;case"apost":e=(0,o.reqAPost)(e,t,n)}return e}},909:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(450);t.default=function(e,t,n){switch(t.action){case"hscript":e=(0,r.runHScript)(e,t);break;case"for":e=(0,r.runFor)(e,t,n);break;case"if":e=(0,r.runIf)(e,t)}return e}},22:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseDomElements=t.parseElement=t.parseHScriptElement=t.parseElementChildrens=void 0;const o=r(n(28)),a=n(163);let s=-1,i={},l=[];function u(e){const t=[];for(const n of e){const e=d(n);e&&t.push(e)}return t}function c(e){return e.root.classList.add("htaml-hide"),e.attributes.push({id:"h-hscript",value:!0}),e}function d(e){if("SCRIPT"===e.tagName)return null;++s;const t=s;let n={id:t,root:e,parent:null,request:{config:{},data:{}},response:{body:"",content:"",status:-1},variables:{},childrens:[],attributes:(0,a.extractHTAMLAttributesFromElement)(e)};if(n.root.setAttribute("h-dom:id",t),i[t]=n,i[t].root.parentElement){const e=i[t].root.parentElement.getAttribute("h-dom:id");e&&(i[t].parent=i[Number(e)])}return i[t].root.tagName===o.default.HSCRIPT&&(i[t]=c(i[t])),o.default.DISABLED_ELEMENTS.includes(i[t].root.tagName)&&(i[t]=(0,a.disableEvents)(i[t])),i[t].root.children.length&&(i[t].childrens=u(i[t].root.children)),(0,a.removeHTAMLAttributesFromHTAMLElement)(i[t]),l.push(i[t]),i[t]}t.parseElementChildrens=u,t.parseHScriptElement=c,t.parseElement=d,t.parseDomElements=function(e){const t=[];for(let n of e){const e=d(n);e&&t.push(e)}return t}},136:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stepThroughHTAMLElements=void 0;const o=r(n(656)),a=r(n(215)),s=r(n(909)),i=r(n(319)),l=r(n(968));function u(e){for(const t of e.attributes)switch(t.id.split("-")[1]){case"hscript":return t.value&&(0,i.default)(e),null;case"run":if(!(e=(0,s.default)(e,t,u)))return null;break;case"req":if(!(e=(0,l.default)(e,t,u)))return null;break;case"on":return(0,a.default)(e,t,u,c);case"dom":if(!(e=(0,o.default)(e,t,u,c)))return null}return e}function c(e){if(e)for(let t of e)t=u(t),t&&t.childrens&&(t=c(t.childrens))}t.stepThroughHTAMLElements=c},849:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[()=>"\n\n.htaml-cloak{\n    opacity:0 !important;\n    pointer-events:none;\n}\n\n.htaml-visible{\n    opacity:1 !important;\n    pointer-events:all;\n}\n\n.htaml-hide{\n    display:none !important;\n    pointer-events:none;\n}\n\n.htaml-show{\n    display:block !important;\n    pointer-events:all;\n}\n\n.htaml-fadein {\n    visibility: hidden !important;\n    opacity:0;\n}\n\n.htaml-fadein-active\n{\n    visibility: visible !important;\n\n    -webkit-animation: fadeInFromNone 0.5s ease-out;\n    -moz-animation: fadeInFromNone 0.5s ease-out;\n    -o-animation: fadeInFromNone 0.5s ease-out;\n    animation: fadeInFromNone 0.5s ease-out;\n}\n\n@-webkit-keyframes fadeInFromNone {\n    0% {\n        display: none !important;\n        opacity: 0;\n    }\n\n    1% {\n        display: block !important;\n        opacity: 0;\n    }\n\n    25% {\n        display: block !important;\n        opacity: 0.3;\n    }\n\n    55% {\n        display: block !important;\n        opacity: 0.4;\n    }\n\n    80% {\n        display: block !important;\n        opacity: 0.6;\n    }\n\n    100% {\n        display: block !important;\n        opacity: 1;\n    }\n}\n@-moz-keyframes fadeInFromNone {\n    0% {\n        display: none !important;\n        opacity: 0;\n    }\n\n    1% {\n        display: block !important;\n        opacity: 0;\n    }\n\n    25% {\n        display: block !important;\n        opacity: 0.3;\n    }\n\n    55% {\n        display: block !important;\n        opacity: 0.4;\n    }\n\n    80% {\n        display: block !important;\n        opacity: 0.6;\n    }\n\n    100% {\n        display: block !important;\n        opacity: 1;\n    }\n}\n\n@-o-keyframes fadeInFromNone {\n    0% {\n        display: none !important;\n        opacity: 0;\n    }\n\n    1% {\n        display: block !important;\n        opacity: 0;\n    }\n\n    25% {\n        display: block !important;\n        opacity: 0.3;\n    }\n\n    55% {\n        display: block !important;\n        opacity: 0.4;\n    }\n\n    80% {\n        display: block !important;\n        opacity: 0.6;\n    }\n\n    100% {\n        display: block !important;\n        opacity: 1;\n    }\n}\n\n@keyframes fadeInFromNone {\n    0% {\n        display: none !important;\n        opacity: 0;\n    }\n\n    1% {\n        display: block !important;\n        opacity: 0;\n    }\n\n    25% {\n        display: block !important;\n        opacity: 0.3;\n    }\n\n    55% {\n        display: block !important;\n        opacity: 0.4;\n    }\n\n    80% {\n        display: block !important;\n        opacity: 0.6;\n    }\n\n    100% {\n        display: block !important;\n        opacity: 1;\n    }\n}\n}\n    ".trim()]},47:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(181)),a=r(n(647));t.default=class{constructor(e){const t=(new o.default).toTokens(e);return new a.default(t).parse()}}},181:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(986)),a=r(n(406)),s=n(163);t.default=class{constructor(){this.index=0,this.tokens=[],this.jsonLikeObject="",this.current_character=null}advance(){this.index>=this.jsonLikeObject.length?this.current_character=null:this.current_character=this.jsonLikeObject[this.index++]}createId(){let e="";for(;":"!=this.current_character;)e+=this.current_character,this.advance();return e}createString(){const e=this.current_character;this.advance();let t="";for(;this.current_character!=e;)t+=this.current_character,this.advance();return t}createNumber(){let e="";for(;(0,s.isNumber)(this.current_character);)e+=this.current_character,this.advance();return Number(e)}toTokens(e){for(this.jsonLikeObject=e,this.advance();null!=this.current_character;){switch((0,s.isNumber)(this.current_character)&&this.tokens.push(new a.default("INT",o.default.INT,this.createNumber(),Number(this.index))),'"'!==this.current_character&&"'"!==this.current_character||this.tokens.push(new a.default("STR",o.default.STR,this.createString(),Number(this.index))),(0,s.isLetter)(this.current_character)&&this.tokens.push(new a.default("ID",o.default.ID,this.createId(),Number(this.index))),this.current_character){case"\n":continue;case":":this.tokens.push(new a.default("COLON",o.default.COLON,this.current_character,Number(this.index)));break;case"{":this.tokens.push(new a.default("LEFT_BRACE",o.default.LEFT_BRACE,this.current_character,Number(this.index)));break;case"}":this.tokens.push(new a.default("RIGHT_BRACE",o.default.RIGHT_BRACE,this.current_character,Number(this.index)));break;case"[":this.tokens.push(new a.default("LEFT_BRACK",o.default.LEFT_BRACK,this.current_character,Number(this.index)));break;case"]":this.tokens.push(new a.default("RIGHT_BRACK",o.default.RIGHT_BRACK,this.current_character,Number(this.index)));break;case"(":this.tokens.push(new a.default("LEFT_PAREN",o.default.LEFT_PAREN,this.current_character,Number(this.index)));break;case")":this.tokens.push(new a.default("RIGHT_PAREN",o.default.RIGHT_PAREN,this.current_character,Number(this.index)))}this.advance()}return this.tokens}}},647:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(986));t.default=class{constructor(e){this.index=0,this.current_token=null,this.json={},this.tokens=e,this.current_token=this.tokens[this.index]}advance(){this.index>=this.tokens.length?this.current_token=null:this.current_token=this.tokens[++this.index]}lookahead(e){return e>=this.tokens.length?null:this.tokens[this.index+e]}lookback(e){return e>=this.tokens.length?null:this.tokens[this.index-e]}parse(){var e,t;if(this.current_token.type==o.default.LEFT_BRACE){for(this.advance();null!=this.current_token;)this.current_token.type==o.default.ID&&(null===(e=this.lookahead(1))||void 0===e?void 0:e.type)==o.default.COLON&&(this.json[this.current_token.value]=null===(t=this.lookahead(2))||void 0===t?void 0:t.value),this.advance();return this.json}}}},406:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,r){this.__name=e,this.__type=t,this.__value=n,this.__index=r}get value(){return this.__value}get name(){return this.__name}get type(){return this.__type}get index(){return this.__index}}},986:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ID=0]="ID",e[e.INT=1]="INT",e[e.STR=2]="STR",e[e.COLON=3]="COLON",e[e.NUMBER=4]="NUMBER",e[e.LEFT_BRACE=5]="LEFT_BRACE",e[e.RIGHT_BRACE=6]="RIGHT_BRACE",e[e.LEFT_BRACK=7]="LEFT_BRACK",e[e.RIGHT_BRACK=8]="RIGHT_BRACK",e[e.LEFT_PAREN=9]="LEFT_PAREN",e[e.RIGHT_PAREN=10]="RIGHT_PAREN"}(n||(n={})),t.default=n},156:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(22),s=n(136),i=n(163),l=o(n(849));!function(){window.addEventListener("DOMContentLoaded",(e=>r(this,void 0,void 0,(function*(){const t=document.createElement("style");l.default.forEach((e=>t.textContent=t.textContent+=e())),document.head.insertAdjacentElement("beforeend",t),(0,i.createEvent)(document,"htaml_init",e);const n=yield(0,a.parseDomElements)([document.body]);document.body.classList.remove("htaml-hide"),(0,i.logger)("dom parsed"),(0,i.createEvent)(document,"htaml_parsed",n),(0,s.stepThroughHTAMLElements)(n),(0,i.logger)("all htaml elements processed"),(0,i.createEvent)(document,"htaml_processed",n)}))))}()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(156)})();
//# sourceMappingURL=htaml.js.map