{"version":3,"file":"htaml.js","mappings":"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","sources":["webpack://cro_html/./src/config.ts","webpack://cro_html/./src/core/req.ts","webpack://cro_html/./src/core/utils.ts","webpack://cro_html/./src/htaml/parser.ts","webpack://cro_html/./src/htaml/stepper.ts","webpack://cro_html/./src/htaml/stylesheet.ts","webpack://cro_html/./src/htaml_jparser/index.ts","webpack://cro_html/./src/htaml_jparser/lexer.ts","webpack://cro_html/./src/htaml_jparser/parser.ts","webpack://cro_html/./src/htaml_jparser/token.ts","webpack://cro_html/./src/htaml_jparser/types.ts","webpack://cro_html/./src/index.ts","webpack://cro_html/webpack/bootstrap","webpack://cro_html/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CONFIG = {\n    DISABLED_ELEMENTS: ['FORM', 'BUTTON', 'INPUT'],\n    MODIFIERS_REGEX: /(?<=\\s|^)([a-zA-Z_]+:\\S+)(?=\\s|$)/gi,\n    HTAML_REGEX: /(h|ht|hta|htaml)-(\\w*):(\\w*)/,\n    H_SCRIPT: 'H-SCRIPT'\n};\nexports.default = CONFIG;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.htamlPost = exports.htamlGet = void 0;\nconst cache = {};\nfunction htamlGet(url, async = false, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            const xhr = new XMLHttpRequest();\n            xhr.open(\"GET\", url, async);\n            if (config.hasOwnProperty(\"credentials\"))\n                xhr.withCredentials = config.credentials;\n            if (config.hasOwnProperty(\"timeout\"))\n                xhr.timeout = Number(config.timeout);\n            if (config.hasOwnProperty(\"headers\"))\n                Object.entries(config.headers).forEach((_h) => xhr.setRequestHeader(_h[0], _h[1]));\n            xhr.onload = function (req) {\n                const _r = {\n                    content: this.response,\n                    body: \"\",\n                    status: this.status,\n                };\n                if (this.status === 200) {\n                    try {\n                        _r.body = JSON.parse(this.responseText);\n                    }\n                    catch (error) {\n                        _r.body = this.responseText;\n                    }\n                }\n                else\n                    _r.status = this.status;\n                return resolve(_r);\n            };\n            xhr.send();\n        });\n    });\n}\nexports.htamlGet = htamlGet;\nfunction htamlPost(url, data, async = false, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            let useFormData = false;\n            const xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", url, async);\n            if (config.hasOwnProperty(\"credentials\"))\n                xhr.withCredentials = config.credentials;\n            if (config.hasOwnProperty(\"timeout\"))\n                xhr.timeout = Number(config.timeout);\n            if (config.hasOwnProperty(\"headers\")) {\n                Object.entries(config.headers).forEach((_h) => {\n                    xhr.setRequestHeader(_h[0], _h[1]);\n                    if (_h[1].toLowerCase() === \"application/x-www-form-urlencoded\")\n                        useFormData = true;\n                });\n            }\n            xhr.onload = function (req) {\n                const _r = {\n                    content: this.response,\n                    body: \"\",\n                    status: this.status,\n                };\n                if (this.status === 200) {\n                    try {\n                        _r.body = JSON.parse(this.responseText);\n                    }\n                    catch (error) {\n                        _r.body = this.responseText;\n                    }\n                }\n                else\n                    _r.status = this.status;\n                return resolve(_r);\n            };\n            if (useFormData) {\n                const form = new FormData();\n                Object.entries(data).forEach((entry) => {\n                    form.append(entry[0], entry[1]);\n                });\n                data = form;\n            }\n            else {\n                const urlEncodeData = [];\n                Object.entries(data).forEach((_d) => {\n                    urlEncodeData.push(`${encodeURIComponent(_d[0])}=${encodeURIComponent(_d[1])}`);\n                });\n                data = urlEncodeData;\n            }\n            xhr.send(data);\n        });\n    });\n}\nexports.htamlPost = htamlPost;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.htamlEval = exports.htamlEvalHScript = exports.EventEmitter = exports.createEvent = exports.isLetter = exports.isNumber = exports.getVariable = exports.removeClassesFromHTAMLElement = exports.replaceVariable = exports.removeHTAMLAttributeFromHTAMLElement = exports.cloneHTAMLNode = exports.reateEventOnHTAMLElement = exports.removeChildNodesFromHTAMLElement = exports.removeHTAMLAttributesFromHTAMLElement = exports.extractHTAMLAttributesFromElement = exports.addHTAMLElementToDomIds = exports.getHTAMLElementByDomId = exports.disableEvents = void 0;\nconst config_1 = __importDefault(require(\"../config\"));\nconst domIds = {};\nfunction disableEvents(htamlElement) {\n    switch (htamlElement.root.tagName) {\n        case 'INPUT':\n            htamlElement.root.oninput = () => { };\n            break;\n        case 'BUTTON':\n            htamlElement.root.onclick = (e) => { e.preventDefault(); };\n            break;\n        case 'FORM':\n            htamlElement.root.onsubmit = (e) => { e.preventDefault(); alert('fopr'); };\n            break;\n    }\n    return htamlElement;\n}\nexports.disableEvents = disableEvents;\nfunction getHTAMLElementByDomId(id) {\n    return domIds.hasOwnProperty(id) ? domIds[id] : null;\n}\nexports.getHTAMLElementByDomId = getHTAMLElementByDomId;\nfunction addHTAMLElementToDomIds(htamlElement, id) {\n    domIds[id] = htamlElement;\n}\nexports.addHTAMLElementToDomIds = addHTAMLElementToDomIds;\nfunction extractHTAMLAttributesFromElement(htmlElement) {\n    const attributes = [];\n    if (!htmlElement.getAttributeNames().toString().match(config_1.default.HTAML_REGEX))\n        return attributes;\n    for (let attribute of htmlElement.getAttributeNames()) {\n        if ((attribute.startsWith(\"h-\") || attribute.startsWith(\"ht-\") || attribute.startsWith(\"hta-\") || attribute.startsWith(\"htaml-\")) && attribute.includes(\":\")) {\n            const _ = attribute.split(\":\");\n            const id = _[0];\n            const action = _[1];\n            const value = htmlElement.getAttribute(attribute);\n            if (value) {\n                attributes.push({\n                    id: id,\n                    action: action,\n                    value: value,\n                });\n            }\n        }\n    }\n    return attributes;\n}\nexports.extractHTAMLAttributesFromElement = extractHTAMLAttributesFromElement;\nfunction removeHTAMLAttributesFromHTAMLElement(htamlElement) {\n    const root = htamlElement.root;\n    for (let a of root.getAttributeNames())\n        if (a.match(config_1.default.HTAML_REGEX))\n            root.removeAttribute(a);\n}\nexports.removeHTAMLAttributesFromHTAMLElement = removeHTAMLAttributesFromHTAMLElement;\nfunction removeChildNodesFromHTAMLElement(htamlElement) {\n    htamlElement.childrens.map((htamlElement) => htamlElement.root.remove());\n    return htamlElement;\n}\nexports.removeChildNodesFromHTAMLElement = removeChildNodesFromHTAMLElement;\nfunction reateEventOnHTAMLElement(htamlElement, eventName) {\n    htamlElement.root.dispatchEvent(new Event(eventName));\n    return htamlElement;\n}\nexports.reateEventOnHTAMLElement = reateEventOnHTAMLElement;\nfunction cloneHTAMLNode(htamlElement, options = { cloneAll: false, removeOriginal: true }) {\n    const clone = {\n        id: htamlElement.id,\n        root: htamlElement.root.cloneNode(options.cloneAll),\n        parent: htamlElement.parent,\n        request: htamlElement.request,\n        response: htamlElement.response,\n        variables: htamlElement.variables,\n        childrens: htamlElement.childrens,\n        attributes: htamlElement.attributes,\n    };\n    if (options.removeOriginal)\n        htamlElement.root.remove();\n    return clone;\n}\nexports.cloneHTAMLNode = cloneHTAMLNode;\nfunction removeHTAMLAttributeFromHTAMLElement(htamlElement, attribute) {\n    htamlElement.attributes = htamlElement.attributes.filter((_a) => _a.action !== attribute.action);\n    htamlElement.root.removeAttribute(`${attribute.id}:${attribute.action}`);\n    return htamlElement;\n}\nexports.removeHTAMLAttributeFromHTAMLElement = removeHTAMLAttributeFromHTAMLElement;\nfunction replaceVariable(value, htamlElement, options = { stringify: false, isIf: false }) {\n    let varsToReplace = value.match(/\\$(\\w+)/g);\n    if (varsToReplace && varsToReplace.length) {\n        for (const variable of varsToReplace) {\n            const data = getVariable(htamlElement, variable.substring(1), options.stringify);\n            if (data) {\n                if (typeof data === \"string\")\n                    value = value.replace(new RegExp(variable, \"g\").source, `'${data}'`);\n                else\n                    value = value.replace(new RegExp(variable, \"g\").source, data);\n            }\n        }\n    }\n    else if (htamlElement.root.tagName !== config_1.default.H_SCRIPT) {\n        const variables = value.match(/[([a-zA-Z_)|(a-zA-Z_\\.)]+/gi);\n        const _ = (vars, variableData) => {\n            if (vars) {\n                let tmpData = null;\n                for (const variable of vars) {\n                    if (tmpData) {\n                        if (tmpData.hasOwnProperty(variable)) {\n                            tmpData = tmpData[variable];\n                        }\n                        else\n                            tmpData += `.${variable}`;\n                    }\n                    else {\n                        const data = getVariable(variableData, variable, options.stringify);\n                        if (!data)\n                            return null;\n                        tmpData = data;\n                    }\n                }\n                return tmpData;\n            }\n        };\n        if (variables) {\n            for (const variable of variables) {\n                if (variable.includes(\".\")) {\n                    let vars = variable.split(\".\");\n                    if (vars[0] === \"this\") {\n                        vars = vars.splice(1);\n                        const result = _(vars, { variables: htamlElement });\n                        if (!result)\n                            break;\n                        value = value.replace(new RegExp(variable, \"g\").source, _(vars, { variables: htamlElement }));\n                    }\n                    else {\n                        const result = _(vars, htamlElement);\n                        if (!result)\n                            break;\n                        if (options.isIf)\n                            value = value.replace(new RegExp(variable, \"g\").source, result);\n                        else\n                            value = result;\n                    }\n                }\n                else {\n                    const data = getVariable(htamlElement, variable, options.stringify);\n                    if (!data) {\n                        if (options.isIf)\n                            return null;\n                        break;\n                    }\n                    if (options.isIf)\n                        value = value.replace(new RegExp(variable, \"g\").source, data);\n                    else\n                        value = data;\n                }\n            }\n        }\n    }\n    return value;\n}\nexports.replaceVariable = replaceVariable;\nfunction removeClassesFromHTAMLElement(htamlElement, classes) {\n    classes.forEach((x) => {\n        htamlElement.root.classList.remove(x);\n    });\n    return null;\n}\nexports.removeClassesFromHTAMLElement = removeClassesFromHTAMLElement;\nfunction getVariable(htamlElement, varName, stringify = false) {\n    let data = null;\n    if (!htamlElement)\n        return data;\n    if (htamlElement.variables.hasOwnProperty(varName))\n        data = htamlElement.variables[varName];\n    else\n        data = getVariable(htamlElement.parent, varName);\n    if (stringify)\n        data = JSON.stringify(data);\n    return data;\n}\nexports.getVariable = getVariable;\nfunction isNumber(str) {\n    return true ? str.length === 1 && str.match(/[0-9]/i) : false;\n}\nexports.isNumber = isNumber;\nfunction isLetter(str) {\n    return true ? str.length === 1 && str.match(/[a-zA-Z0-9]/i) : false;\n}\nexports.isLetter = isLetter;\nfunction createEvent(element, eventName, args = null) {\n    CustomEvent;\n    if (element instanceof HTMLElement) {\n        element.dispatchEvent(new CustomEvent(eventName, { detail: args }));\n        return element;\n    }\n    else {\n        element.dispatchEvent(new CustomEvent(eventName, { detail: args }));\n        return element;\n    }\n}\nexports.createEvent = createEvent;\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n    }\n    listenerCount(eventName, func) {\n        const funcs = this.listeners[eventName] || [];\n        return funcs.length;\n    }\n    rawListener(eventName) {\n        return this.listeners[eventName];\n    }\n    addListener(eventName, func) {\n        this.listeners[eventName] = this.listeners[eventName] || [];\n        this.listeners[eventName].push(func);\n        return this;\n    }\n    removeListener(eventName, func) {\n        delete this.listeners[eventName];\n        return this;\n    }\n    emit(eventName, ...args) {\n        let funcs = this.listeners[eventName];\n        if (!funcs)\n            return false;\n        funcs.forEach((f) => {\n            f(...args);\n        });\n        return true;\n    }\n    once(eventName, func) {\n        this.listeners[eventName] = this.listeners[eventName] || [];\n        const onceWrapper = () => {\n            func();\n            this.off(eventName, func);\n        };\n        this.listeners[eventName].push(onceWrapper);\n        return this;\n    }\n    on(eventName, func) {\n        return this.addListener(eventName, func);\n    }\n    off(eventName, func) {\n        return this.removeListener(eventName, func);\n    }\n}\nexports.EventEmitter = EventEmitter;\nfunction htamlEvalHScript(code) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            function _() {\n                return new Function(code)();\n            }\n            const result = eval(\"_()\");\n            if (result)\n                return resolve(result);\n            return resolve(null);\n        });\n    });\n}\nexports.htamlEvalHScript = htamlEvalHScript;\nfunction htamlEval(code, options = { stringify: false }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            function _() {\n                try {\n                    return new Function(`return ${code}`)();\n                }\n                catch (error) {\n                    return new Function(`return ${JSON.stringify(code)}`)();\n                }\n            }\n            const result = eval(\"_()\");\n            if (result)\n                return resolve(result);\n            return resolve(null);\n        });\n    });\n}\nexports.htamlEval = htamlEval;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseDomElements = exports.parseElement = exports.parseHScriptElement = exports.parseElementChildrens = void 0;\nconst config_1 = __importDefault(require(\"../config\"));\nconst utils_1 = require(\"../core/utils\");\nlet elementId = -1;\nlet _element = {};\nlet elements = [];\nfunction parseElementChildrens(childrens) {\n    const htamlChildrens = [];\n    for (const children of childrens) {\n        const htamlElement = parseElement(children);\n        if (htamlElement)\n            htamlChildrens.push(htamlElement);\n    }\n    return htamlChildrens;\n}\nexports.parseElementChildrens = parseElementChildrens;\nfunction parseHScriptElement(htamlElement) {\n    let root = htamlElement.root;\n    root.classList.add(\"htaml-hide\");\n    htamlElement.attributes.push({ id: \"h-hscript\", value: true });\n    return htamlElement;\n}\nexports.parseHScriptElement = parseHScriptElement;\nfunction parseElement(element) {\n    if (element.tagName === \"SCRIPT\")\n        return null;\n    ++elementId;\n    const id = elementId;\n    let htamlElement = {\n        id: id,\n        root: element,\n        parent: null,\n        request: { config: {}, data: {} },\n        response: { body: \"\", content: \"\", status: -1 },\n        variables: {},\n        childrens: [],\n        attributes: (0, utils_1.extractHTAMLAttributesFromElement)(element),\n    };\n    htamlElement.root.setAttribute(\"h-dom:id\", id);\n    _element[id] = htamlElement;\n    if (_element[id].root.parentElement) {\n        const domId = _element[id].root.parentElement.getAttribute(\"h-dom:id\");\n        if (domId)\n            _element[id].parent = _element[Number(domId)];\n    }\n    if (_element[id].root.tagName === config_1.default.H_SCRIPT)\n        _element[id] = parseHScriptElement(_element[id]);\n    if (config_1.default.DISABLED_ELEMENTS.includes(_element[id].root.tagName))\n        _element[id] = (0, utils_1.disableEvents)(_element[id]);\n    if (_element[id].root.children.length)\n        _element[id].childrens = parseElementChildrens(_element[id].root.children);\n    (0, utils_1.removeHTAMLAttributesFromHTAMLElement)(_element[id]);\n    elements.push(_element[id]);\n    return _element[id];\n}\nexports.parseElement = parseElement;\nfunction parseDomElements(childrens) {\n    const parsedElements = [];\n    for (let children of childrens) {\n        const htamlElement = parseElement(children);\n        if (htamlElement)\n            parsedElements.push(htamlElement);\n    }\n    return parsedElements;\n}\nexports.parseDomElements = parseDomElements;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stepThroughHTAMLElements = void 0;\nconst utils_1 = require(\"../core/utils\");\nconst req_1 = require(\"../core/req\");\nconst htaml_jparser_1 = __importDefault(require(\"../htaml_jparser\"));\nconst parser_1 = require(\"./parser\");\nconst config_1 = __importDefault(require(\"../config\"));\nfunction handleOnAttribute(htamlElement, attribute) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            const element = htamlElement.root;\n            const _a = attribute.value.split(\" \");\n            htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n            if (attribute.action === \"trigger\") {\n                const _lis = (_p) => __awaiter(this, void 0, void 0, function* () {\n                    (0, utils_1.createEvent)(element, \"htaml_change\", htamlElement);\n                    const _e = _p.target;\n                    if (attribute.value.includes(\"once\"))\n                        _e.removeEventListener(_a[0], _lis);\n                    if (attribute.value.includes(\"delay\")) {\n                        let timeout = 0;\n                        const _ = attribute.value.match(/delay:(\\d*)(\\w)/);\n                        if (_.length == 3) {\n                            if (_[2] === \"s\")\n                                timeout = Number(_[1] * 1000);\n                            else if (_[2] === \"ms\")\n                                timeout = Number(_[1] * 1000000);\n                        }\n                        if (timeout > 0x7fffffff || timeout < 1)\n                            timeout = 1;\n                        setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n                            yield stepThroughHTAMLElement(htamlElement);\n                        }), timeout);\n                    }\n                    else\n                        yield stepThroughHTAMLElement(htamlElement);\n                });\n                if (attribute.value == \"submit\") {\n                    element.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {\n                        let htamlElement = (0, utils_1.getHTAMLElementByDomId)('form');\n                        if (!htamlElement)\n                            return resolve(null);\n                        const htmlElement = htamlElement.root;\n                        const data = {};\n                        const inputs = htmlElement.querySelectorAll(\"input\");\n                        for (const input of inputs) {\n                            data[input.name] = input.value;\n                        }\n                        const textAreas = htmlElement.querySelectorAll(\"textarea\");\n                        for (const textArea of textAreas) {\n                            data[textArea.name] = textArea.value;\n                        }\n                        htamlElement.request.data = data;\n                        htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, { action: 'ignore' });\n                        yield stepThroughHTAMLElement(htamlElement);\n                    }));\n                }\n                else\n                    element.addEventListener(_a[0], _lis);\n            }\n            return resolve(htamlElement);\n        }));\n    });\n}\nfunction handleReqAttribute(htamlElement, attribute) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            const config = htamlElement.request.config;\n            if (attribute.action === \"data\") {\n                let json = new htaml_jparser_1.default(attribute.value);\n                htamlElement.request.data = yield (0, utils_1.htamlEval)(json);\n            }\n            else if (attribute.action === \"config\") {\n                attribute.value = attribute.value.replace(/\\s/g, \"\");\n                attribute.value = attribute.value.replace(/\\'/g, '\"');\n                htamlElement.request.config = JSON.parse(attribute.value);\n            }\n            else if (attribute.action === \"get\") {\n                if (!config.hasOwnProperty(\"pooling\")) {\n                    if (attribute.id === \"h-req\") {\n                        htamlElement.response = yield (0, req_1.htamlGet)(attribute.value, false, config);\n                    }\n                    else if (attribute.id === \"h-areq\") {\n                        (0, req_1.htamlGet)(attribute.value, true, config).then((res) => {\n                            htamlElement.response = res;\n                            htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n                            stepThroughHTAMLElement(htamlElement).catch(() => { });\n                        });\n                        return resolve(null);\n                    }\n                }\n            }\n            else if (attribute.action === \"post\") {\n                const data = htamlElement.request.data;\n                if (data) {\n                    if (attribute.id === \"h-req\") {\n                        htamlElement.response = yield (0, req_1.htamlPost)(attribute.value, data, false, config);\n                    }\n                    else if (attribute.id === \"h-areq\") {\n                        (0, req_1.htamlPost)(attribute.value, data, true, config).then((res) => {\n                            htamlElement.response = res;\n                            htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n                            stepThroughHTAMLElement(htamlElement).catch(() => { });\n                        });\n                        return resolve(null);\n                    }\n                }\n            }\n            else if (attribute.action === \"out\") {\n                const variable = attribute.value;\n                htamlElement.variables[variable] = htamlElement.response.body;\n            }\n            return resolve(htamlElement);\n        }));\n    });\n}\nfunction handleRunAttribute(htamlElement, attribute) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            const element = htamlElement.root;\n            let value = attribute.value;\n            if (attribute.action === \"hscript\") {\n                value = (0, utils_1.replaceVariable)(value, htamlElement);\n                if (value) {\n                    value = value.replace(/\\s\\s/g, \"\");\n                    htamlElement.variables[\"hscript\"] = yield (0, utils_1.htamlEvalHScript)(value);\n                }\n            }\n            else if (attribute.action === \"for\" && attribute.value.match(/(\\sin\\s)/)) {\n                element.classList.add(\"htaml-cloak\");\n                value = value.split(\" \");\n                if (value.length == 3) {\n                    const varToReplace = value[0];\n                    let loopTarget = value[2];\n                    let data = (0, utils_1.replaceVariable)(loopTarget, htamlElement);\n                    if (data) {\n                        (0, utils_1.removeChildNodesFromHTAMLElement)(htamlElement);\n                        const __processNode = (data, htamlElement) => __awaiter(this, void 0, void 0, function* () {\n                            Object.assign(htamlElement.variables, data);\n                            htamlElement = (yield stepThroughHTAMLElement(htamlElement));\n                            if (htamlElement.childrens) {\n                                for (let child of htamlElement.childrens) {\n                                    child = yield __processNode(data, (0, utils_1.cloneHTAMLNode)(child, { removeOriginalNode: true }));\n                                    if (child.root)\n                                        htamlElement.root.appendChild(child.root);\n                                }\n                            }\n                            return htamlElement;\n                        });\n                        for (let _htamlElement of htamlElement.childrens) {\n                            let index = 0;\n                            for (let value of data) {\n                                let clone = (0, utils_1.cloneHTAMLNode)(_htamlElement, { removeOriginalNode: true });\n                                const dataObject = {};\n                                dataObject[\"i\"] = index.toString();\n                                dataObject[varToReplace] = value;\n                                clone = yield __processNode(dataObject, clone);\n                                if (clone)\n                                    element.appendChild(clone.root);\n                                index++;\n                            }\n                        }\n                    }\n                    (0, utils_1.removeClassesFromHTAMLElement)(htamlElement, [\"htaml-cloak\", \"htaml-hide\", \"htaml-hidden\"]);\n                }\n            }\n            else if (attribute.action === \"if\") {\n                element.classList.add(\"htaml-hide\");\n                value = (0, utils_1.replaceVariable)(value, htamlElement, { isIf: true });\n                const result = yield (0, utils_1.htamlEval)(value);\n                if (!result) {\n                    element.remove();\n                    return resolve(null);\n                }\n                htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, { action: 'cloak' });\n                (0, utils_1.removeClassesFromHTAMLElement)(htamlElement, [\"htaml-cloak\", \"htaml-hide\"]);\n            }\n            return resolve(htamlElement);\n        }));\n    });\n}\nfunction handleHScript(htamlElement) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let root = htamlElement.root;\n        let code = root.innerText;\n        let variable = code.match(/return\\s(\\w+)/);\n        if (variable && variable.length > 2)\n            return null;\n        if (variable && variable.length == 2)\n            variable = variable[1];\n        code = (0, utils_1.replaceVariable)(code, htamlElement);\n        if (code) {\n            code = code.replace(/\\s\\s/g, \"\");\n            const result = yield (0, utils_1.htamlEvalHScript)(code);\n            if (result && variable)\n                htamlElement.parent.variables[variable] = result;\n        }\n        return null;\n    });\n}\nfunction handleDomAttribute(htamlElement, attribute) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            const element = htamlElement.root;\n            let target = null;\n            let selector = '';\n            let values = [];\n            let value = attribute.value;\n            let variables = [];\n            let modifiers = null;\n            switch (attribute.action) {\n                case \"id\":\n                    (0, utils_1.addHTAMLElementToDomIds)(htamlElement, value);\n                    break;\n                case \"switch\":\n                    selector = value.split(' ')[0];\n                    target = (0, utils_1.getHTAMLElementByDomId)(selector);\n                    if (target) {\n                        target = target.root;\n                        modifiers = value.match(config_1.default.MODIFIERS_REGEX);\n                        if (modifiers) {\n                            for (let modifier of modifiers) {\n                                modifier = modifier.split(\":\");\n                                if (modifier[0] === \"attr\")\n                                    document.querySelectorAll(`[${modifier[1]}]`).forEach((attr) => attr.classList.add(\"htaml-hide\"));\n                                else if (modifier[0] === \"active\") {\n                                    document.querySelectorAll(`${modifier[1]}`).forEach((attr) => attr.classList.remove(modifier[1].substring(1)));\n                                    element.classList.add(modifier[1].substring(1));\n                                }\n                            }\n                            target.classList.remove(\"htaml-cloak\");\n                            target.classList.remove(\"htaml-hide\");\n                        }\n                    }\n                    break;\n                case \"toggle\":\n                    selector = value.split(' ')[0];\n                    target = (0, utils_1.getHTAMLElementByDomId)(selector);\n                    if (target) {\n                        modifiers = value.match(config_1.default.MODIFIERS_REGEX);\n                        if (modifiers) {\n                            for (let modifier of modifiers) {\n                                modifier = modifier.split(\":\");\n                                target.root.classList.remove(\"htaml-cloak\");\n                                target.root.classList.remove(\"htaml-hide\");\n                                if (!target.root.classList.contains(`htaml-${modifier}`))\n                                    target.root.classList.add(`htaml-${modifier}`);\n                                else\n                                    target.root.classList.remove(`htaml-${modifier}`);\n                            }\n                        }\n                    }\n                    break;\n                case \"bindto\":\n                    target = (0, utils_1.getHTAMLElementByDomId)(value);\n                    if (!target) {\n                        target = document.querySelector(`input[name=\"${value}\"]`);\n                        if (!target)\n                            return resolve(null);\n                    }\n                    else\n                        target = target.root;\n                    target.addEventListener('htaml_change', (e) => {\n                        {\n                            const htmlElement = e.target;\n                            const htamlElement = e.detail;\n                            switch (htmlElement.tagName) {\n                                case \"select\":\n                                case \"textarea\":\n                                case \"input\":\n                                    element.value = htmlElement.value;\n                                    break;\n                                default:\n                                    element.textContent = htmlElement.value;\n                                    break;\n                            }\n                        }\n                    });\n                    break;\n                case \"proc\":\n                    selector = value.split(' ')[0];\n                    target = (0, utils_1.getHTAMLElementByDomId)(selector);\n                    if (target) {\n                        (0, utils_1.removeClassesFromHTAMLElement)(target, [\"htaml-cloak\", \"htaml-hide\"]);\n                        const _ = [{ action: \"cloak\" }, { action: \"ignore\" }].forEach((a) => target = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(target, a));\n                        let isModified = false;\n                        modifiers = value.match(config_1.default.MODIFIERS_REGEX);\n                        if (modifiers && modifiers.length) {\n                            for (let modifier of modifiers) {\n                                modifier = modifier.split(\":\");\n                                switch (modifier[0]) {\n                                    case \"on_process\":\n                                        if (modifier[1] === 'replace') {\n                                            const clone = (0, utils_1.cloneHTAMLNode)(target, { removeOriginal: true });\n                                            target = yield stepThroughHTAMLElement(clone);\n                                            if (target) {\n                                                element.insertAdjacentElement(\"afterend\", target.root);\n                                                isModified = true;\n                                            }\n                                        }\n                                        else if (modifier[1] === 'scroll') {\n                                            target = yield stepThroughHTAMLElement(target);\n                                            if (target) {\n                                                window.scrollTo({ top: target.root.scrollHeight, behavior: 'smooth' });\n                                                isModified = true;\n                                            }\n                                        }\n                                        break;\n                                }\n                            }\n                        }\n                        if (!isModified)\n                            stepThroughHTAMLElements([target]);\n                    }\n                    break;\n                case \"ignore\":\n                    if (value === \"this\") {\n                        htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n                        yield stepThroughHTAMLElements(htamlElement.childrens);\n                        return resolve(null);\n                    }\n                    else if (value === \"all\") {\n                        return resolve(null);\n                    }\n                    break;\n                case \"swap\":\n                    selector = value.split(\" \")[0];\n                    target = (0, utils_1.getHTAMLElementByDomId)(selector);\n                    if (!target) {\n                        target = document.querySelector(selector);\n                        if (!target)\n                            return resolve(null);\n                    }\n                    else\n                        target = target.root;\n                    let transitions = null;\n                    if (value.includes(\"transition\")) {\n                        transitions = value.match(/transition:([\\w-]*)/);\n                        if (transitions && transitions.length == 2)\n                            target.classList.remove(transitions[1]);\n                    }\n                    const hasTitle = htamlElement.response.content.match(/<title>(\\w*)<\\/title>/i);\n                    if (hasTitle && hasTitle.length > 1) {\n                        htamlElement.response.content = htamlElement.response.content.replace(new RegExp(hasTitle[0]), \"\");\n                        document.title = hasTitle[1];\n                    }\n                    if ((value.includes(\"outter\") || value.includes(\"this\")) && target.tagName !== \"HTML\") {\n                        target.outerHTML = htamlElement.response.content;\n                        yield stepThroughHTAMLElements(yield (0, parser_1.parseElementChildrens)(document.body.children));\n                    }\n                    else if (value.includes(\"inner\")) {\n                        target.innerHTML = htamlElement.response.content;\n                        yield stepThroughHTAMLElements(yield (0, parser_1.parseElementChildrens)(target.children));\n                    }\n                    else if (target.tagName !== \"HTML\") {\n                        target.outerHTML = htamlElement.response.content;\n                        yield stepThroughHTAMLElements(yield (0, parser_1.parseElementChildrens)(document.body.children));\n                    }\n                    else\n                        target.innerHTML = htamlElement.response.content;\n                    yield stepThroughHTAMLElements(yield (0, parser_1.parseElementChildrens)(target.children));\n                    if (transitions)\n                        target.classList.add(transitions[1]);\n                    break;\n                case \"cloak\":\n                    if (value === \"cloak\")\n                        element.classList.add(\"htaml-cloak\");\n                    else if (value === \"hide\")\n                        element.classList.add(\"htaml-hide\");\n                    break;\n                case \"data\":\n                    let json = new htaml_jparser_1.default(attribute.value);\n                    const result = yield (0, utils_1.htamlEval)(json);\n                    Object.assign(htamlElement.variables, result);\n                    break;\n                case \"text\":\n                    element.removeAttribute(attribute.action);\n                    variables = value.split(\",\").reverse();\n                    for (const variable of variables) {\n                        value = (0, utils_1.replaceVariable)(variable, htamlElement);\n                        if (value) {\n                            value = yield (0, utils_1.htamlEval)(value);\n                            if (value)\n                                element.insertAdjacentText(\"afterbegin\", value);\n                        }\n                    }\n                    break;\n                default:\n                    element.removeAttribute(attribute.action);\n                    variables = value.split(\",\").reverse();\n                    for (const variable of variables) {\n                        value = (0, utils_1.replaceVariable)(variable, htamlElement);\n                        if (value) {\n                            value = yield (0, utils_1.htamlEval)(value);\n                            if (value)\n                                element[attribute.action] = value;\n                        }\n                    }\n                    break;\n            }\n            return resolve(htamlElement);\n        }));\n    });\n}\nfunction stepThroughHTAMLElement(htamlElement) {\n    return __awaiter(this, void 0, void 0, function* () {\n        for (const _a of htamlElement.attributes) {\n            switch (_a.id.split(\"-\")[1]) {\n                case \"hscript\":\n                    if (_a.value)\n                        yield handleHScript(htamlElement);\n                    return null;\n                case \"run\":\n                    htamlElement = yield handleRunAttribute(htamlElement, _a);\n                    if (!htamlElement)\n                        return null;\n                    break;\n                case \"req\":\n                case \"areq\":\n                    htamlElement = yield handleReqAttribute(htamlElement, _a);\n                    if (!htamlElement)\n                        return null;\n                    break;\n                case \"on\":\n                    htamlElement = yield handleOnAttribute(htamlElement, _a);\n                    return htamlElement;\n                case \"dom\":\n                    htamlElement = yield handleDomAttribute(htamlElement, _a);\n                    if (!htamlElement)\n                        return null;\n                    break;\n            }\n        }\n        return htamlElement;\n    });\n}\nfunction stepThroughHTAMLElements(htamlElements) {\n    return __awaiter(this, void 0, void 0, function* () {\n        htamlElements = htamlElements;\n        if (htamlElements) {\n            for (let _a of htamlElements) {\n                _a = yield stepThroughHTAMLElement(_a);\n                if (_a)\n                    if (_a.childrens)\n                        _a = (yield stepThroughHTAMLElements(_a.childrens));\n            }\n        }\n    });\n}\nexports.stepThroughHTAMLElements = stepThroughHTAMLElements;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst htamlFade = () => {\n    return `\r\n\r\n.htaml-cloak{\r\n    opacity:0 !important;\r\n    pointer-events:none;\r\n}\r\n\r\n.htaml-visible{\r\n    opacity:1 !important;\r\n    pointer-events:all;\r\n}\r\n\r\n.htaml-hide{\r\n    display:none !important;\r\n    pointer-events:none;\r\n}\r\n\r\n.htaml-show{\r\n    display:block !important;\r\n    pointer-events:all;\r\n}\r\n\r\n.htaml-fadein {\r\n    visibility: hidden !important;\r\n    opacity:0;\r\n}\r\n\r\n.htaml-fadein-active\r\n{\r\n    visibility: visible !important;\r\n\r\n    -webkit-animation: fadeInFromNone 0.5s ease-out;\r\n    -moz-animation: fadeInFromNone 0.5s ease-out;\r\n    -o-animation: fadeInFromNone 0.5s ease-out;\r\n    animation: fadeInFromNone 0.5s ease-out;\r\n}\r\n\r\n@-webkit-keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n@-moz-keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@-o-keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n}\r\n    `.trim();\n};\nexports.default = [htamlFade];\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lexer_1 = __importDefault(require(\"./lexer\"));\nconst parser_1 = __importDefault(require(\"./parser\"));\nclass HTAMLJParser {\n    constructor(jsonLikeString) {\n        const tokens = new lexer_1.default().toTokens(jsonLikeString);\n        const json = new parser_1.default(tokens).parse();\n        return json;\n    }\n}\nexports.default = HTAMLJParser;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = __importDefault(require(\"./types\"));\nconst token_1 = __importDefault(require(\"./token\"));\nconst utils_1 = require(\"../core/utils\");\nclass Lexer {\n    constructor() {\n        this.index = 0;\n        this.tokens = [];\n        this.jsonLikeObject = \"\";\n        this.current_character = null;\n    }\n    advance() {\n        if (this.index >= this.jsonLikeObject.length) {\n            this.current_character = null;\n        }\n        else\n            this.current_character = this.jsonLikeObject[this.index++];\n    }\n    createId() {\n        let id = \"\";\n        while (this.current_character != \":\") {\n            id += this.current_character;\n            this.advance();\n        }\n        return id;\n    }\n    createString() {\n        const matchCharacter = this.current_character;\n        this.advance();\n        let tmp_str = \"\";\n        while (this.current_character != matchCharacter) {\n            tmp_str += this.current_character;\n            this.advance();\n        }\n        return tmp_str;\n    }\n    createNumber() {\n        let tmp_str = \"\";\n        while ((0, utils_1.isNumber)(this.current_character)) {\n            tmp_str += this.current_character;\n            this.advance();\n        }\n        return Number(tmp_str);\n    }\n    toTokens(jsonLikeObject) {\n        this.jsonLikeObject = jsonLikeObject;\n        this.advance();\n        while (this.current_character != null) {\n            if ((0, utils_1.isNumber)(this.current_character))\n                this.tokens.push(new token_1.default(\"INT\", types_1.default.INT, this.createNumber(), Number(this.index)));\n            if (this.current_character === '\"' || this.current_character === \"'\")\n                this.tokens.push(new token_1.default(\"STR\", types_1.default.STR, this.createString(), Number(this.index)));\n            if ((0, utils_1.isLetter)(this.current_character))\n                this.tokens.push(new token_1.default(\"ID\", types_1.default.ID, this.createId(), Number(this.index)));\n            switch (this.current_character) {\n                case \"\\n\":\n                    continue;\n                case \":\":\n                    this.tokens.push(new token_1.default(\"COLON\", types_1.default.COLON, this.current_character, Number(this.index)));\n                    break;\n                case \"{\":\n                    this.tokens.push(new token_1.default(\"LEFT_BRACE\", types_1.default.LEFT_BRACE, this.current_character, Number(this.index)));\n                    break;\n                case \"}\":\n                    this.tokens.push(new token_1.default(\"RIGHT_BRACE\", types_1.default.RIGHT_BRACE, this.current_character, Number(this.index)));\n                    break;\n                case \"[\":\n                    this.tokens.push(new token_1.default(\"LEFT_BRACK\", types_1.default.LEFT_BRACK, this.current_character, Number(this.index)));\n                    break;\n                case \"]\":\n                    this.tokens.push(new token_1.default(\"RIGHT_BRACK\", types_1.default.RIGHT_BRACK, this.current_character, Number(this.index)));\n                    break;\n                case \"(\":\n                    this.tokens.push(new token_1.default(\"LEFT_PAREN\", types_1.default.LEFT_PAREN, this.current_character, Number(this.index)));\n                    break;\n                case \")\":\n                    this.tokens.push(new token_1.default(\"RIGHT_PAREN\", types_1.default.RIGHT_PAREN, this.current_character, Number(this.index)));\n                    break;\n            }\n            this.advance();\n        }\n        return this.tokens;\n    }\n}\nexports.default = Lexer;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = __importDefault(require(\"./types\"));\nclass Parser {\n    constructor(tokens) {\n        this.index = 0;\n        this.current_token = null;\n        this.json = {};\n        this.tokens = tokens;\n        this.current_token = this.tokens[this.index];\n    }\n    advance() {\n        if (this.index >= this.tokens.length) {\n            this.current_token = null;\n        }\n        else\n            this.current_token = this.tokens[++this.index];\n    }\n    lookahead(position) {\n        if (position >= this.tokens.length)\n            return null;\n        return this.tokens[this.index + position];\n    }\n    lookback(position) {\n        if (position >= this.tokens.length)\n            return null;\n        return this.tokens[this.index - position];\n    }\n    parse() {\n        var _a, _b;\n        if (this.current_token.type != types_1.default.LEFT_BRACE)\n            return;\n        this.advance();\n        while (this.current_token != null) {\n            if (this.current_token.type == types_1.default.ID && ((_a = this.lookahead(1)) === null || _a === void 0 ? void 0 : _a.type) == types_1.default.COLON) {\n                this.json[this.current_token.value] = (_b = this.lookahead(2)) === null || _b === void 0 ? void 0 : _b.value;\n            }\n            this.advance();\n        }\n        return this.json;\n    }\n}\nexports.default = Parser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Token {\n    constructor(name, type, value, index) {\n        this.__name = name;\n        this.__type = type;\n        this.__value = value;\n        this.__index = index;\n    }\n    get value() {\n        return this.__value;\n    }\n    get name() {\n        return this.__name;\n    }\n    get type() {\n        return this.__type;\n    }\n    get index() {\n        return this.__index;\n    }\n}\nexports.default = Token;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types;\n(function (Types) {\n    Types[Types[\"ID\"] = 0] = \"ID\";\n    Types[Types[\"INT\"] = 1] = \"INT\";\n    Types[Types[\"STR\"] = 2] = \"STR\";\n    Types[Types[\"COLON\"] = 3] = \"COLON\";\n    Types[Types[\"NUMBER\"] = 4] = \"NUMBER\";\n    Types[Types[\"LEFT_BRACE\"] = 5] = \"LEFT_BRACE\";\n    Types[Types[\"RIGHT_BRACE\"] = 6] = \"RIGHT_BRACE\";\n    Types[Types[\"LEFT_BRACK\"] = 7] = \"LEFT_BRACK\";\n    Types[Types[\"RIGHT_BRACK\"] = 8] = \"RIGHT_BRACK\";\n    Types[Types[\"LEFT_PAREN\"] = 9] = \"LEFT_PAREN\";\n    Types[Types[\"RIGHT_PAREN\"] = 10] = \"RIGHT_PAREN\";\n})(Types || (Types = {}));\nexports.default = Types;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst parser_1 = require(\"./htaml/parser\");\nconst stepper_1 = require(\"./htaml/stepper\");\nconst utils_1 = require(\"./core/utils\");\nconst stylesheet_1 = __importDefault(require(\"./htaml/stylesheet\"));\n(function () {\n    window.htaml = window.htaml || {};\n    let __logger = true;\n    const em = new utils_1.EventEmitter();\n    window.htaml.em = em;\n    function logger(message, type = \"info\") {\n        if (__logger) {\n            switch (type) {\n                case \"info\":\n                    console.info(`[+] HTAML Logger:  ${message}`);\n                    break;\n                case \"warn\":\n                    console.warn(`[+] HTAML Logger:  ${message}`);\n                    break;\n                case \"error\":\n                    console.error(`[+] HTAML Logger:  ${message}`);\n                    break;\n                default:\n                    console.log(`[+] HTAML Logger:  ${message}`);\n                    break;\n            }\n        }\n    }\n    window.htaml.logger = logger;\n    window.addEventListener(\"DOMContentLoaded\", (args) => __awaiter(this, void 0, void 0, function* () {\n        const style = document.createElement(\"style\");\n        stylesheet_1.default.forEach((_) => (style.textContent = style.textContent += _()));\n        document.head.insertAdjacentElement(\"beforeend\", style);\n        (0, utils_1.createEvent)(document, \"htaml_init\", args);\n        const elementsObject = yield (0, parser_1.parseDomElements)(document.body.children);\n        document.body.classList.remove(\"htaml-hide\");\n        logger(\"dom parsed\");\n        (0, utils_1.createEvent)(document, \"htaml_parsed\", elementsObject);\n        (0, stepper_1.stepThroughHTAMLElements)(elementsObject);\n        logger(\"all htaml elements processed\");\n        (0, utils_1.createEvent)(document, \"htaml_processed\", elementsObject);\n    }));\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(607);\n"],"names":["Object","defineProperty","exports","value","DISABLED_ELEMENTS","MODIFIERS_REGEX","HTAML_REGEX","H_SCRIPT","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","htamlPost","htamlGet","url","async","config","xhr","XMLHttpRequest","open","hasOwnProperty","withCredentials","credentials","timeout","Number","entries","headers","forEach","_h","setRequestHeader","onload","req","_r","content","response","body","status","JSON","parse","responseText","error","send","data","useFormData","toLowerCase","form","FormData","entry","append","urlEncodeData","_d","push","encodeURIComponent","__importDefault","mod","__esModule","htamlEval","htamlEvalHScript","EventEmitter","createEvent","isLetter","isNumber","getVariable","removeClassesFromHTAMLElement","replaceVariable","removeHTAMLAttributeFromHTAMLElement","cloneHTAMLNode","reateEventOnHTAMLElement","removeChildNodesFromHTAMLElement","removeHTAMLAttributesFromHTAMLElement","extractHTAMLAttributesFromElement","addHTAMLElementToDomIds","getHTAMLElementByDomId","disableEvents","config_1","domIds","htamlElement","root","tagName","oninput","onclick","preventDefault","onsubmit","alert","id","htmlElement","attributes","getAttributeNames","toString","match","default","attribute","startsWith","includes","_","split","action","getAttribute","a","removeAttribute","childrens","map","remove","eventName","dispatchEvent","Event","options","cloneAll","removeOriginal","clone","cloneNode","parent","request","variables","filter","_a","stringify","isIf","varsToReplace","length","variable","substring","replace","RegExp","source","vars","variableData","tmpData","splice","classes","x","classList","varName","str","element","args","CustomEvent","HTMLElement","detail","constructor","listeners","listenerCount","func","rawListener","addListener","removeListener","emit","funcs","f","once","off","on","code","Function","eval","parseDomElements","parseElement","parseHScriptElement","parseElementChildrens","utils_1","elementId","_element","elements","htamlChildrens","children","add","setAttribute","parentElement","domId","parsedElements","stepThroughHTAMLElements","req_1","htaml_jparser_1","parser_1","handleOnAttribute","_lis","_p","_e","target","removeEventListener","setTimeout","stepThroughHTAMLElement","addEventListener","inputs","querySelectorAll","input","name","textAreas","textArea","handleReqAttribute","json","res","catch","handleRunAttribute","varToReplace","loopTarget","__processNode","assign","child","removeOriginalNode","appendChild","_htamlElement","index","dataObject","handleHScript","innerText","handleDomAttribute","selector","modifiers","modifier","document","attr","contains","querySelector","textContent","isModified","insertAdjacentElement","window","scrollTo","top","scrollHeight","behavior","transitions","hasTitle","title","outerHTML","innerHTML","reverse","insertAdjacentText","htamlElements","trim","lexer_1","jsonLikeString","tokens","toTokens","types_1","token_1","jsonLikeObject","current_character","advance","createId","createString","matchCharacter","tmp_str","createNumber","INT","STR","ID","COLON","LEFT_BRACE","RIGHT_BRACE","LEFT_BRACK","RIGHT_BRACK","LEFT_PAREN","RIGHT_PAREN","current_token","lookahead","position","lookback","_b","type","__name","__type","__value","__index","Types","stepper_1","stylesheet_1","htaml","em","logger","message","console","info","warn","log","style","createElement","head","elementsObject","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call","__webpack_exports__"],"sourceRoot":""}