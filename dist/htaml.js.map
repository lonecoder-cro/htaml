{"version":3,"file":"htaml.js","mappings":"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","sources":["webpack://cro_html/./src/config.ts","webpack://cro_html/./src/core/req.ts","webpack://cro_html/./src/core/utils.ts","webpack://cro_html/./src/htaml/parser.ts","webpack://cro_html/./src/htaml/stepper.ts","webpack://cro_html/./src/htaml/stylesheet.ts","webpack://cro_html/./src/htaml_jparser/index.ts","webpack://cro_html/./src/htaml_jparser/lexer.ts","webpack://cro_html/./src/htaml_jparser/parser.ts","webpack://cro_html/./src/htaml_jparser/token.ts","webpack://cro_html/./src/htaml_jparser/types.ts","webpack://cro_html/./src/index.ts","webpack://cro_html/webpack/bootstrap","webpack://cro_html/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTAML_STATE = void 0;\nvar HTAML_STATE;\n(function (HTAML_STATE) {\n    HTAML_STATE[\"H_SCRIPT\"] = \"H-SCRIPT\";\n})(HTAML_STATE || (exports.HTAML_STATE = HTAML_STATE = {}));\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.htamlPost = exports.htamlGet = void 0;\nconst cache = {};\nfunction htamlGet(url, async = false, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            const xhr = new XMLHttpRequest();\n            xhr.open(\"GET\", url, async);\n            if (config.hasOwnProperty(\"credentials\"))\n                xhr.withCredentials = config.credentials;\n            if (config.hasOwnProperty(\"timeout\"))\n                xhr.timeout = Number(config.timeout);\n            if (config.hasOwnProperty(\"headers\"))\n                Object.entries(config.headers).forEach((_h) => xhr.setRequestHeader(_h[0], _h[1]));\n            xhr.onload = function (req) {\n                const _r = {\n                    content: this.response,\n                    body: \"\",\n                    status: this.status,\n                };\n                if (this.status === 200) {\n                    try {\n                        _r.body = JSON.parse(this.responseText);\n                    }\n                    catch (error) {\n                        _r.body = this.responseText;\n                    }\n                }\n                else\n                    _r.status = this.status;\n                return resolve(_r);\n            };\n            xhr.send();\n        });\n    });\n}\nexports.htamlGet = htamlGet;\nfunction htamlPost(url, data, async = false, config) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            let useFormData = false;\n            const xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", url, async);\n            if (config.hasOwnProperty(\"credentials\"))\n                xhr.withCredentials = config.credentials;\n            if (config.hasOwnProperty(\"timeout\"))\n                xhr.timeout = Number(config.timeout);\n            if (config.hasOwnProperty(\"headers\")) {\n                Object.entries(config.headers).forEach((_h) => {\n                    xhr.setRequestHeader(_h[0], _h[1]);\n                    if (_h[1].toLowerCase() === \"application/x-www-form-urlencoded\")\n                        useFormData = true;\n                });\n            }\n            xhr.onload = function (req) {\n                const _r = {\n                    content: this.response,\n                    body: \"\",\n                    status: this.status,\n                };\n                if (this.status === 200) {\n                    try {\n                        _r.body = JSON.parse(this.responseText);\n                    }\n                    catch (error) {\n                        _r.body = this.responseText;\n                    }\n                }\n                else\n                    _r.body = this.status;\n                return resolve(_r);\n            };\n            if (useFormData) {\n                const form = new FormData();\n                Object.entries(data).forEach((entry) => {\n                    form.append(entry[0], entry[1]);\n                });\n                data = form;\n            }\n            else {\n                const urlEncodeData = [];\n                Object.entries(data).forEach((_d) => {\n                    urlEncodeData.push(`${encodeURIComponent(_d[0])}=${encodeURIComponent(_d[1])}`);\n                });\n                data = urlEncodeData;\n            }\n            xhr.send(data);\n        });\n    });\n}\nexports.htamlPost = htamlPost;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.htamlEval = exports.htamlEvalHScript = exports.EventEmitter = exports.createEvent = exports.isLetter = exports.isNumber = exports.isWhiteSpace = exports.getVariable = exports.removeClassesFromHTAMLElement = exports.replaceVariable = exports.removeHTAMLAttributeFromHTAMLElement = exports.cloneHTAMLNode = void 0;\nconst config_1 = require(\"../config\");\nfunction cloneHTAMLNode(htamlElement, options = { cloneAll: false, removeOriginal: true }) {\n    const clone = {\n        id: htamlElement.id,\n        root: htamlElement.root.cloneNode(options.cloneAll),\n        parent: htamlElement.parent,\n        request: htamlElement.request,\n        response: htamlElement.response,\n        variables: htamlElement.variables,\n        childrens: htamlElement.childrens,\n        attributes: htamlElement.attributes,\n    };\n    if (options.removeOriginal)\n        htamlElement.root.remove();\n    return clone;\n}\nexports.cloneHTAMLNode = cloneHTAMLNode;\nfunction removeHTAMLAttributeFromHTAMLElement(htamlElement, attribute) {\n    htamlElement.attributes = htamlElement.attributes.filter((_a) => _a.action !== attribute.action);\n    htamlElement.root.removeAttribute(`${attribute.id}:${attribute.action}`);\n    return htamlElement;\n}\nexports.removeHTAMLAttributeFromHTAMLElement = removeHTAMLAttributeFromHTAMLElement;\nfunction replaceVariable(value, htamlElement, options = { stringify: false, isIf: false }) {\n    let varsToReplace = value.match(/\\$(\\w+)/g);\n    if (varsToReplace && varsToReplace.length) {\n        for (const variable of varsToReplace) {\n            const data = getVariable(htamlElement, variable.substring(1), options.stringify);\n            if (data) {\n                if (typeof data === \"string\")\n                    value = value.replace(new RegExp(variable, \"g\").source, `'${data}'`);\n                else\n                    value = value.replace(new RegExp(variable, \"g\").source, data);\n            }\n        }\n    }\n    else if (htamlElement.root.tagName !== config_1.HTAML_STATE.H_SCRIPT) {\n        const variables = value.match(/[([a-zA-Z_)|(a-zA-Z_\\.)]+/gi);\n        const _ = (vars, variableData) => {\n            if (vars) {\n                let tmpData = null;\n                for (const variable of vars) {\n                    if (tmpData) {\n                        if (tmpData.hasOwnProperty(variable)) {\n                            tmpData = tmpData[variable];\n                        }\n                        else\n                            tmpData += `.${variable}`;\n                    }\n                    else {\n                        const data = getVariable(variableData, variable, options.stringify);\n                        if (!data)\n                            return null;\n                        tmpData = data;\n                    }\n                }\n                return tmpData;\n            }\n        };\n        if (variables) {\n            for (const variable of variables) {\n                if (variable.includes(\".\")) {\n                    let vars = variable.split(\".\");\n                    if (vars[0] === \"this\") {\n                        vars = vars.splice(1);\n                        const result = _(vars, { variables: htamlElement });\n                        if (!result)\n                            break;\n                        value = value.replace(new RegExp(variable, \"g\").source, _(vars, { variables: htamlElement }));\n                    }\n                    else {\n                        const result = _(vars, htamlElement);\n                        if (!result)\n                            break;\n                        if (options.isIf)\n                            value = value.replace(new RegExp(variable, \"g\").source, result);\n                        else\n                            value = result;\n                    }\n                }\n                else {\n                    const data = getVariable(htamlElement, variable, options.stringify);\n                    if (!data) {\n                        if (options.isIf)\n                            return null;\n                        break;\n                    }\n                    if (options.isIf)\n                        value = value.replace(new RegExp(variable, \"g\").source, data);\n                    else\n                        value = data;\n                }\n            }\n        }\n    }\n    return value;\n}\nexports.replaceVariable = replaceVariable;\nfunction removeClassesFromHTAMLElement(htamlElement, classes) {\n    classes.forEach((x) => {\n        htamlElement.root.classList.remove(x);\n    });\n    return null;\n}\nexports.removeClassesFromHTAMLElement = removeClassesFromHTAMLElement;\nfunction getVariable(htamlElement, varName, stringify = false) {\n    let data = null;\n    if (!htamlElement)\n        return data;\n    if (htamlElement.variables.hasOwnProperty(varName))\n        data = htamlElement.variables[varName];\n    else\n        data = getVariable(htamlElement.parent, varName);\n    if (stringify)\n        data = JSON.stringify(data);\n    return data;\n}\nexports.getVariable = getVariable;\nfunction isWhiteSpace(str) {\n    return /\\s/g.test(str);\n}\nexports.isWhiteSpace = isWhiteSpace;\nfunction isNumber(str) {\n    return true ? str.length === 1 && str.match(/[0-9]/i) : false;\n}\nexports.isNumber = isNumber;\nfunction isLetter(str) {\n    return true ? str.length === 1 && str.match(/[a-zA-Z0-9]/i) : false;\n}\nexports.isLetter = isLetter;\nfunction createEvent(element, eventName, args = null) {\n    CustomEvent;\n    if (element instanceof HTMLElement) {\n        element.dispatchEvent(new CustomEvent(eventName, { detail: args }));\n        return element;\n    }\n    else {\n        element.dispatchEvent(new CustomEvent(eventName, { detail: args }));\n        return element;\n    }\n}\nexports.createEvent = createEvent;\nclass EventEmitter {\n    constructor() {\n        this.listeners = {};\n    }\n    listenerCount(eventName, func) {\n        const funcs = this.listeners[eventName] || [];\n        return funcs.length;\n    }\n    rawListener(eventName) {\n        return this.listeners[eventName];\n    }\n    addListener(eventName, func) {\n        this.listeners[eventName] = this.listeners[eventName] || [];\n        this.listeners[eventName].push(func);\n        return this;\n    }\n    removeListener(eventName, func) {\n        delete this.listeners[eventName];\n        return this;\n    }\n    emit(eventName, ...args) {\n        let funcs = this.listeners[eventName];\n        if (!funcs)\n            return false;\n        funcs.forEach((f) => {\n            f(...args);\n        });\n        return true;\n    }\n    once(eventName, func) {\n        this.listeners[eventName] = this.listeners[eventName] || [];\n        const onceWrapper = () => {\n            func();\n            this.off(eventName, func);\n        };\n        this.listeners[eventName].push(onceWrapper);\n        return this;\n    }\n    on(eventName, func) {\n        return this.addListener(eventName, func);\n    }\n    off(eventName, func) {\n        return this.removeListener(eventName, func);\n    }\n}\nexports.EventEmitter = EventEmitter;\nfunction htamlEvalHScript(code) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            function _() {\n                return new Function(code)();\n            }\n            const result = eval(\"_()\");\n            if (result)\n                return resolve(result);\n            return resolve(null);\n        });\n    });\n}\nexports.htamlEvalHScript = htamlEvalHScript;\nfunction htamlEval(code, options = { stringify: false }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            function _() {\n                try {\n                    return new Function(`return ${code}`)();\n                }\n                catch (error) {\n                    return new Function(`return ${JSON.stringify(code)}`)();\n                }\n            }\n            const result = eval(\"_()\");\n            if (result)\n                return resolve(result);\n            return resolve(null);\n        });\n    });\n}\nexports.htamlEval = htamlEval;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config_1 = require(\"../config\");\nclass HTAMLParser {\n    constructor() {\n        this.logger = true;\n        this._elementId = -1;\n        this._element = {};\n        this._elements = [];\n        this.attribute_regex = /(h|ht|hta|htaml)-(\\w*):(\\w*)/;\n    }\n    removeChildNodesFromHTAMLElement(htamlElement) {\n        htamlElement.childrens.map((htamlElement) => htamlElement.root.remove());\n        return htamlElement;\n    }\n    createEventOnHTAMLElement(htamlElement, eventName) {\n        htamlElement.root.dispatchEvent(new Event(eventName));\n        return htamlElement;\n    }\n    handleDomAttribute(element, attribute) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                const html = element.element;\n                if (attribute.action === \"swap\") {\n                    const _ms = attribute.value.split(\" \");\n                    const _ = document.querySelector(_ms[0]);\n                    if (_) {\n                        let _tn = null;\n                        if (attribute.value.includes(\"transition\")) {\n                            _tn = attribute.value.match(/transition:([\\w-]*)/);\n                            if (_tn.length == 2)\n                                _.classList.remove(_tn[1]);\n                        }\n                        if ((attribute.value.includes(\"outerHTML\") || attribute.value.includes(\"this\")) && _.tagName !== \"HTML\") {\n                            _.outerHTML = element.response.content;\n                            yield this.parseDomElements(document.body.children);\n                        }\n                        else if (attribute.value.includes(\"innerHTML\")) {\n                            _.innerHTML = element.response.content;\n                            yield this.parseDomElements(_.children);\n                        }\n                        else if (_.tagName !== \"HTML\") {\n                            _.outerHTML = element.response.content;\n                            yield this.parseDomElements(document.body.children);\n                        }\n                        else\n                            _.innerHTML = element.response.content;\n                        yield this.parseDomElements(_.children);\n                        if (_tn)\n                            _.classList.add(_tn[1]);\n                    }\n                }\n                resolve(element);\n            }));\n        });\n    }\n    removeHTAMLAttributesFromHTAMLElement(htamlElement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const root = htamlElement.root;\n            for (let a of root.getAttributeNames())\n                if (a.match(this.attribute_regex))\n                    root.removeAttribute(a);\n        });\n    }\n    extractHTAMLAttributesFromElement(element) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const attributes = [];\n            if (!element.getAttributeNames().toString().match(this.attribute_regex))\n                return attributes;\n            for (let attribute of element.getAttributeNames()) {\n                if ((attribute.startsWith(\"h-\") || attribute.startsWith(\"ht-\") || attribute.startsWith(\"hta-\") || attribute.startsWith(\"htaml-\")) && attribute.includes(\":\")) {\n                    const _ = attribute.split(\":\");\n                    const id = _[0];\n                    const action = _[1];\n                    const value = element.getAttribute(attribute);\n                    if (value) {\n                        attributes.push({\n                            id: id,\n                            action: action,\n                            value: value,\n                        });\n                    }\n                }\n            }\n            return attributes;\n        });\n    }\n    _parseElementChildrens(childrens) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _childrens = [];\n            for (let _c of childrens) {\n                _c = yield this._parseElement(_c);\n                if (_c)\n                    _childrens.push(_c);\n            }\n            return _childrens;\n        });\n    }\n    _parseHScriptElement(htamlElement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let root = htamlElement.root;\n            root.classList.add(\"htaml-none\");\n            htamlElement.attributes.push({ id: \"h-hscript\", value: true });\n            return htamlElement;\n        });\n    }\n    _parseElement(element) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (element.tagName === \"SCRIPT\")\n                return;\n            ++this._elementId;\n            const id = this._elementId;\n            let htamlElement = {\n                id: id,\n                root: element,\n                parent: null,\n                request: { config: {}, data: {} },\n                response: { body: \"\", content: \"\", status: -1 },\n                variables: {},\n                childrens: [],\n                attributes: yield this.extractHTAMLAttributesFromElement(element),\n            };\n            htamlElement.root.setAttribute(\"h-dom:id\", id);\n            this._element[id] = htamlElement;\n            if (this._element[id].root.parentElement) {\n                const domId = this._element[id].root.parentElement.getAttribute(\"h-dom:id\");\n                if (domId)\n                    this._element[id].parent = this._element[Number(domId)];\n            }\n            if (this._element[id].root.tagName === config_1.HTAML_STATE.H_SCRIPT)\n                this._element[id] = yield this._parseHScriptElement(this._element[id]);\n            if (this._element[id].root.children.length)\n                this._element[id].childrens = yield this._parseElementChildrens(this._element[id].root.children);\n            yield this.removeHTAMLAttributesFromHTAMLElement(this._element[id]);\n            this._elements.push(this._element[id]);\n            return this._element[id];\n        });\n    }\n    parseDomElements(childrens) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const parsedElements = [];\n            for (let children of childrens) {\n                children = yield this._parseElement(children);\n                if (children)\n                    parsedElements.push(children);\n            }\n            return { parsed: parsedElements, elements: this._elements };\n        });\n    }\n}\nexports.default = HTAMLParser;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_1 = require(\"../core/utils\");\nconst req_1 = require(\"../core/req\");\nconst parser_1 = __importDefault(require(\"./parser\"));\nconst htaml_jparser_1 = __importDefault(require(\"../htaml_jparser\"));\nclass HTAMLElmStepper {\n    constructor(htamlElements) {\n        this.htamlParser = new parser_1.default();\n        this.parsedHTAMLElements = htamlElements.parsed;\n        this.htamlElements = htamlElements.elements;\n        this.__stepThroughHTAMLElements(this.parsedHTAMLElements).catch((error) => console.error(error));\n    }\n    __handleOnAttribute(htamlElement, attribute) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                const element = htamlElement.root;\n                const _a = attribute.value.split(\" \");\n                htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n                if (attribute.action === \"trigger\") {\n                    const _lis = (_p) => __awaiter(this, void 0, void 0, function* () {\n                        const _e = _p.target;\n                        if (attribute.value.includes(\"once\"))\n                            _e.removeEventListener(_a[0], _lis);\n                        if (attribute.value.includes(\"delay\")) {\n                            let timeout = 0;\n                            const _ = attribute.value.match(/delay:(\\d*)(\\w)/);\n                            if (_.length == 3) {\n                                if (_[2] === \"s\")\n                                    timeout = Number(_[1] * 1000);\n                                else if (_[2] === \"ms\")\n                                    timeout = Number(_[1] * 1000000);\n                            }\n                            if (timeout > 0x7fffffff || timeout < 1)\n                                timeout = 1;\n                            setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n                                yield this.__stepThroughHTAMLElement(htamlElement);\n                            }), timeout);\n                        }\n                        else\n                            yield this.__stepThroughHTAMLElement(htamlElement);\n                    });\n                    if (attribute.value == \"submit\" && element.tagName === \"FORM\") {\n                        element.addEventListener(attribute.value, (_p) => __awaiter(this, void 0, void 0, function* () {\n                            _p.preventDefault();\n                            const _e = _p.target;\n                            const data = {};\n                            const inputs = _e.querySelectorAll(\"input\");\n                            for (const input of inputs) {\n                                data[input.name] = input.value;\n                            }\n                            const textAreas = _e.querySelectorAll(\"textarea\");\n                            for (const textArea of textAreas) {\n                                data[textArea.name] = textArea.value;\n                            }\n                            htamlElement.variables[htamlElement.root.tagName] = data;\n                            yield this.__stepThroughHTAMLElement(htamlElement);\n                        }));\n                    }\n                    else\n                        element.addEventListener(_a[0], _lis);\n                }\n                return resolve(htamlElement);\n            }));\n        });\n    }\n    __handleReqAttribute(htamlElement, attribute) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                const config = htamlElement.request.config;\n                if (attribute.action === \"config\") {\n                    attribute.value = attribute.value.replace(/\\s/g, \"\");\n                    attribute.value = attribute.value.replace(/\\'/g, '\"');\n                    htamlElement.request.config = JSON.parse(attribute.value);\n                }\n                else if (attribute.action === \"get\") {\n                    if (!config.hasOwnProperty(\"pooling\")) {\n                        if (attribute.id === \"h-req\") {\n                            htamlElement.response = yield (0, req_1.htamlGet)(attribute.value, false, config);\n                        }\n                        else if (attribute.id === \"h-areq\") {\n                            (0, req_1.htamlGet)(attribute.value, true, config).then((res) => {\n                                htamlElement.response = res;\n                                htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n                                this.__stepThroughHTAMLElement(htamlElement).catch(() => { });\n                            });\n                            return resolve(null);\n                        }\n                    }\n                }\n                else if (attribute.action === \"post\") {\n                    const data = (0, utils_1.getVariable)(htamlElement, \"FORM\");\n                    if (data) {\n                        if (attribute.id === \"h-req\") {\n                            yield (0, req_1.htamlPost)(attribute.value, data, false, config);\n                        }\n                        else if (attribute.id === \"h-areq\") {\n                            (0, req_1.htamlPost)(attribute.value, data, true, config).then((res) => {\n                                htamlElement.response = res;\n                                htamlElement = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(htamlElement, attribute);\n                                this.__stepThroughHTAMLElement(htamlElement).catch(() => { });\n                            });\n                            return resolve(null);\n                        }\n                    }\n                    else {\n                        if (Object.keys(htamlElement.request.data)) {\n                        }\n                    }\n                }\n                else if (attribute.action === \"out\") {\n                    const variable = attribute.value;\n                    htamlElement.variables[variable] = htamlElement.response.body;\n                }\n                return resolve(htamlElement);\n            }));\n        });\n    }\n    __handleRunAttribute(htamlElement, attribute) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                const element = htamlElement.root;\n                let value = attribute.value;\n                if (attribute.action === \"hscript\") {\n                    value = (0, utils_1.replaceVariable)(value, htamlElement);\n                    if (value) {\n                        value = value.replace(/\\s\\s/g, \"\");\n                        htamlElement.variables[\"hscript\"] = yield (0, utils_1.htamlEvalHScript)(value);\n                    }\n                }\n                else if (attribute.action === \"for\" && attribute.value.match(/(\\sin\\s)/)) {\n                    element.classList.add(\"htaml-cloak\");\n                    value = value.split(\" \");\n                    if (value.length == 3) {\n                        const varToReplace = value[0];\n                        let loopTarget = value[2];\n                        let data = (0, utils_1.replaceVariable)(loopTarget, htamlElement);\n                        if (data) {\n                            this.htamlParser.removeChildNodesFromHTAMLElement(htamlElement);\n                            let last_clone = null;\n                            const __processNode = (data, htamlElement) => __awaiter(this, void 0, void 0, function* () {\n                                Object.assign(htamlElement.variables, data);\n                                htamlElement = (yield this.__stepThroughHTAMLElement(htamlElement));\n                                if (htamlElement.childrens) {\n                                    for (let child of htamlElement.childrens) {\n                                        child = yield __processNode(data, (0, utils_1.cloneHTAMLNode)(child));\n                                        if (child.root)\n                                            htamlElement.root.appendChild(child.root);\n                                    }\n                                }\n                                return htamlElement;\n                            });\n                            for (let _htamlElement of htamlElement.childrens) {\n                                let index = 0;\n                                for (let value of data) {\n                                    let clone = (0, utils_1.cloneHTAMLNode)(_htamlElement);\n                                    const dataObject = {};\n                                    dataObject[\"i\"] = index.toString();\n                                    dataObject[varToReplace] = value;\n                                    clone = yield __processNode(dataObject, clone);\n                                    if (clone)\n                                        element.appendChild(clone.root);\n                                    index++;\n                                }\n                            }\n                        }\n                        (0, utils_1.removeClassesFromHTAMLElement)(htamlElement, [\"htaml-cloak\", \"htaml-none\", \"htaml-hidden\"]);\n                    }\n                }\n                else if (attribute.action === \"if\") {\n                    element.classList.add(\"htaml-none\");\n                    value = (0, utils_1.replaceVariable)(value, htamlElement, { isIf: true });\n                    const result = yield (0, utils_1.htamlEval)(value);\n                    if (!result) {\n                        element.remove();\n                        return resolve(null);\n                    }\n                    (0, utils_1.removeClassesFromHTAMLElement)(htamlElement, [\"htaml-cloak\", \"htaml-none\", \"htaml-hidden\"]);\n                }\n                return resolve(htamlElement);\n            }));\n        });\n    }\n    __handleHScript(htamlElement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let root = htamlElement.root;\n            let code = root.innerText;\n            let variable = code.match(/return\\s(\\w+)/);\n            if (variable.length < 2 || variable.length > 2)\n                return null;\n            variable = variable[1];\n            code = (0, utils_1.replaceVariable)(code, htamlElement);\n            if (code) {\n                code = code.replace(/\\s\\s/g, \"\");\n                yield (0, utils_1.htamlEvalHScript)(code);\n            }\n            const result = (yield (0, utils_1.htamlEvalHScript)(code));\n            if (result)\n                htamlElement.parent.variables[variable] = result;\n            return htamlElement;\n        });\n    }\n    __handleDomAttribute(htamlElement, attribute) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                const element = htamlElement.root;\n                let target = null;\n                let values = [];\n                let value = attribute.value;\n                let variables = [];\n                switch (attribute.action) {\n                    case \"switch\":\n                        values = value.match(/[(#|\\w+)|(\\w+:\\.|#|\\w+)]+/gi);\n                        target = document.querySelector(values[0]);\n                        if (target) {\n                            values = values.slice(1);\n                            for (let modifier of values) {\n                                modifier = modifier.split(\":\");\n                                if (modifier[0] === \"attr\") {\n                                    const attrs = document.querySelectorAll(`[${modifier[1]}]`).forEach((attr) => {\n                                        attr.classList.add(\"htaml-none\");\n                                    });\n                                }\n                                else if (modifier[0] === \"active\") {\n                                    const attrs = document.querySelectorAll(`${modifier[1]}`).forEach((attr) => {\n                                        attr.classList.remove(modifier[1].substring(1));\n                                    });\n                                    element.classList.add(modifier[1].substring(1));\n                                }\n                            }\n                            target.classList.remove(\"htaml-cloak\");\n                            target.classList.remove(\"htaml-none\");\n                            target.classList.remove(\"htaml-hidden\");\n                        }\n                        break;\n                    case \"toggle\":\n                        values = value.match(/[(#|\\w+)|(\\w+:\\.|#|\\w+)]+/gi);\n                        target = document.querySelector(values[0]);\n                        if (target) {\n                            value = value[1].split(\":\");\n                            target.classList.remove(\"htaml-cloak\");\n                            target.classList.remove(\"htaml-none\");\n                            if (!target.classList.contains(`htaml-${value}`))\n                                target.classList.add(`htaml-${value}`);\n                            else\n                                target.classList.remove(`htaml-${value}`);\n                        }\n                        break;\n                    case \"bindto\":\n                        break;\n                    case \"bind\":\n                        const targets = [];\n                        const find = (htamlElements) => {\n                            for (const htamlElement of htamlElements) {\n                                for (const attribute of htamlElement.attributes) {\n                                    if (attribute.action == \"bindto\") {\n                                        const _tmpValues = attribute.value.split(\",\");\n                                        for (const v of _tmpValues) {\n                                            if (v == value)\n                                                targets.push(htamlElement);\n                                        }\n                                    }\n                                }\n                                if (htamlElement.childrens)\n                                    find(htamlElement.childrens);\n                            }\n                            return targets;\n                        };\n                        target = find(this.htamlElements);\n                        if (target)\n                            target.forEach((t) => {\n                                switch (t.root.tagName.toLowerCase()) {\n                                    case \"select\":\n                                    case \"textarea\":\n                                    case \"input\":\n                                        t.root.value = element.value;\n                                        break;\n                                    default:\n                                        t.root.textContent = element.value;\n                                        break;\n                                }\n                                t.root.textContent = element.value;\n                            });\n                        break;\n                    case \"proc\":\n                        let index = 0;\n                        values = value.match(/[(#|\\w+)|(\\w+:\\.|#|\\w+)]+/gi);\n                        if (!values.length)\n                            break;\n                        if (values[0] === \"nextSibling\") {\n                            for (let i = 0; i < htamlElement.parent.childrens.length; i++) {\n                                if (htamlElement.parent.childrens[i].id == htamlElement.id) {\n                                    target = htamlElement.parent.childrens[i + 1];\n                                    break;\n                                }\n                            }\n                        }\n                        else {\n                            if (values[0].charAt(0) == \"#\")\n                                values[0] = values[0].substring(1);\n                            for (const htamlElement of this.htamlElements) {\n                                if (htamlElement.root.id == values[0]) {\n                                    target = htamlElement;\n                                    break;\n                                }\n                                index++;\n                            }\n                        }\n                        if (target) {\n                            (0, utils_1.removeClassesFromHTAMLElement)(target, [\"htaml-cloak\", \"htaml-none\", \"htaml-hidden\"]);\n                            target = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(target, { action: \"cloak\" });\n                            target = (0, utils_1.removeHTAMLAttributeFromHTAMLElement)(target, { action: \"ignore\" });\n                            let isModified = false;\n                            const modifiers = values.slice(1);\n                            if (modifiers.length) {\n                                for (let modifier of modifiers) {\n                                    if (modifier.includes(\":\")) {\n                                        modifier = modifier.split(\":\");\n                                        switch (modifier[0]) {\n                                            case \"onProcess\":\n                                                if (modifier[1] === \"remove_old\") {\n                                                    const clone = (0, utils_1.cloneHTAMLNode)(target);\n                                                    target.root.remove();\n                                                    target = yield this.__stepThroughHTAMLElement(clone);\n                                                    element.nextSibling.remove();\n                                                    element.insertAdjacentElement(\"afterend\", target.root);\n                                                    isModified = true;\n                                                }\n                                                break;\n                                        }\n                                    }\n                                }\n                            }\n                            if (!isModified)\n                                this.__stepThroughHTAMLElements([target]);\n                        }\n                        break;\n                    case \"ignore\":\n                        if (value !== \"this\")\n                            break;\n                        return resolve(null);\n                    case \"swap\":\n                        const _ms = attribute.value.split(\" \");\n                        const _ = document.querySelector(_ms[0]);\n                        if (_) {\n                            let _tn = null;\n                            if (value.includes(\"transition\")) {\n                                _tn = value.match(/transition:([\\w-]*)/);\n                                if (_tn.length == 2)\n                                    _.classList.remove(_tn[1]);\n                            }\n                            const hasTitle = htamlElement.response.content.match(/<title>(\\w*)<\\/title>/i);\n                            if (hasTitle && hasTitle.length > 1) {\n                                htamlElement.response.content = htamlElement.response.content.replace(new RegExp(hasTitle[0]), \"\");\n                                document.title = hasTitle[1];\n                            }\n                            if ((value.includes(\"outter\") || value.includes(\"this\")) && _.tagName !== \"HTML\") {\n                                _.outerHTML = htamlElement.response.content;\n                                yield this.__stepThroughHTAMLElements(yield this.htamlParser._parseElementChildrens(document.body.children));\n                            }\n                            else if (value.includes(\"inner\")) {\n                                _.innerHTML = htamlElement.response.content;\n                                yield this.__stepThroughHTAMLElements(yield this.htamlParser._parseElementChildrens(_.children));\n                            }\n                            else if (_.tagName !== \"HTML\") {\n                                _.outerHTML = htamlElement.response.content;\n                                yield this.__stepThroughHTAMLElements(yield this.htamlParser._parseElementChildrens(document.body.children));\n                            }\n                            else\n                                _.innerHTML = htamlElement.response.content;\n                            yield this.__stepThroughHTAMLElements(yield this.htamlParser._parseElementChildrens(_.children));\n                            if (_tn)\n                                _.classList.add(_tn[1]);\n                        }\n                        break;\n                    case \"cloak\":\n                        if (value === \"cloak\")\n                            element.classList.add(\"htaml-cloak\");\n                        else if (value === \"none\")\n                            element.classList.add(\"htaml-none\");\n                        else if (value === \"hidden\")\n                            element.classList.add(\"htaml-hidden\");\n                        break;\n                    case \"data\":\n                        let json = new htaml_jparser_1.default(attribute.value);\n                        const result = yield (0, utils_1.htamlEval)(json);\n                        Object.assign(htamlElement.variables, result);\n                        break;\n                    case \"text\":\n                        element.removeAttribute(attribute.action);\n                        variables = value.split(\",\").reverse();\n                        for (const variable of variables) {\n                            value = (0, utils_1.replaceVariable)(variable, htamlElement);\n                            if (value) {\n                                value = yield (0, utils_1.htamlEval)(value);\n                                if (value)\n                                    element.insertAdjacentText(\"afterbegin\", value);\n                            }\n                        }\n                        break;\n                    default:\n                        element.removeAttribute(attribute.action);\n                        variables = value.split(\",\").reverse();\n                        for (const variable of variables) {\n                            value = (0, utils_1.replaceVariable)(variable, htamlElement);\n                            if (value) {\n                                value = yield (0, utils_1.htamlEval)(value);\n                                if (value)\n                                    element[attribute.action] = value;\n                            }\n                        }\n                        break;\n                }\n                return resolve(htamlElement);\n            }));\n        });\n    }\n    __stepThroughHTAMLElement(htamlElement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const _a of htamlElement.attributes) {\n                switch (_a.id.split(\"-\")[1]) {\n                    case \"hscript\":\n                        if (_a.value)\n                            yield this.__handleHScript(htamlElement);\n                        return null;\n                    case \"run\":\n                        htamlElement = yield this.__handleRunAttribute(htamlElement, _a);\n                        if (!htamlElement)\n                            return null;\n                        break;\n                    case \"req\":\n                    case \"areq\":\n                        htamlElement = yield this.__handleReqAttribute(htamlElement, _a);\n                        if (!htamlElement)\n                            return null;\n                        break;\n                    case \"on\":\n                        htamlElement = yield this.__handleOnAttribute(htamlElement, _a);\n                        return htamlElement;\n                    case \"dom\":\n                        htamlElement = yield this.__handleDomAttribute(htamlElement, _a);\n                        if (!htamlElement)\n                            return null;\n                        break;\n                }\n            }\n            return htamlElement;\n        });\n    }\n    __stepThroughHTAMLElements(htamlElements) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (htamlElements) {\n                for (let _a of htamlElements) {\n                    _a = yield this.__stepThroughHTAMLElement(_a);\n                    if (_a)\n                        if (_a.childrens)\n                            _a = (yield this.__stepThroughHTAMLElements(_a.childrens));\n                }\n            }\n        });\n    }\n}\nexports.default = HTAMLElmStepper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst htamlFade = () => {\n    return `\r\n\r\n.htaml-cloak{\r\n    opacity:0 !important;\r\n    pointer-events:none;\r\n}\r\n\r\n.htaml-show{\r\n    opacity:1 !important;\r\n    pointer-events:all;\r\n}\r\n\r\n.htaml-none{\r\n    display:none !important;\r\n    pointer-events:none;\r\n}\r\n\r\n.htaml-block{\r\n    display:block !important;\r\n    pointer-events:all;\r\n}\r\n\r\n.htaml-hidden{\r\n    visibility: hidden !important;\r\n    pointer-events:none;\r\n}\r\n\r\n.htaml-visible{\r\n    visibility: visible !important;\r\n    pointer-events:all;\r\n}\r\n\r\n.htaml-fadein {\r\n    visibility: hidden !important;\r\n    opacity:0;\r\n}\r\n\r\n.htaml-fadein-active\r\n{\r\n    visibility: visible !important;\r\n\r\n    -webkit-animation: fadeInFromNone 0.5s ease-out;\r\n    -moz-animation: fadeInFromNone 0.5s ease-out;\r\n    -o-animation: fadeInFromNone 0.5s ease-out;\r\n    animation: fadeInFromNone 0.5s ease-out;\r\n}\r\n\r\n@-webkit-keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n@-moz-keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@-o-keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@keyframes fadeInFromNone {\r\n    0% {\r\n        display: none !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    1% {\r\n        display: block !important;\r\n        opacity: 0;\r\n    }\r\n\r\n    25% {\r\n        display: block !important;\r\n        opacity: 0.3;\r\n    }\r\n\r\n    55% {\r\n        display: block !important;\r\n        opacity: 0.4;\r\n    }\r\n\r\n    80% {\r\n        display: block !important;\r\n        opacity: 0.6;\r\n    }\r\n\r\n    100% {\r\n        display: block !important;\r\n        opacity: 1;\r\n    }\r\n}\r\n}\r\n    `.trim();\n};\nexports.default = [htamlFade];\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lexer_1 = __importDefault(require(\"./lexer\"));\nconst parser_1 = __importDefault(require(\"./parser\"));\nclass HTAMLJParser {\n    constructor(jsonLikeString) {\n        const tokens = new lexer_1.default().toTokens(jsonLikeString);\n        const json = new parser_1.default(tokens).parse();\n        return json;\n    }\n}\nexports.default = HTAMLJParser;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = __importDefault(require(\"./types\"));\nconst token_1 = __importDefault(require(\"./token\"));\nconst utils_1 = require(\"../core/utils\");\nclass Lexer {\n    constructor() {\n        this.index = 0;\n        this.tokens = [];\n        this.jsonLikeObject = \"\";\n        this.current_character = null;\n    }\n    advance() {\n        if (this.index >= this.jsonLikeObject.length) {\n            this.current_character = null;\n        }\n        else\n            this.current_character = this.jsonLikeObject[this.index++];\n    }\n    createId() {\n        let id = \"\";\n        while (this.current_character != \":\") {\n            id += this.current_character;\n            this.advance();\n        }\n        return id;\n    }\n    createString() {\n        const matchCharacter = this.current_character;\n        this.advance();\n        let tmp_str = \"\";\n        while (this.current_character != matchCharacter) {\n            tmp_str += this.current_character;\n            this.advance();\n        }\n        return tmp_str;\n    }\n    createNumber() {\n        let tmp_str = \"\";\n        while ((0, utils_1.isNumber)(this.current_character)) {\n            tmp_str += this.current_character;\n            this.advance();\n        }\n        return Number(tmp_str);\n    }\n    toTokens(jsonLikeObject) {\n        this.jsonLikeObject = jsonLikeObject;\n        this.advance();\n        while (this.current_character != null) {\n            if ((0, utils_1.isNumber)(this.current_character))\n                this.tokens.push(new token_1.default(\"INT\", types_1.default.INT, this.createNumber(), Number(this.index)));\n            if (this.current_character === '\"' || this.current_character === \"'\")\n                this.tokens.push(new token_1.default(\"STR\", types_1.default.STR, this.createString(), Number(this.index)));\n            if ((0, utils_1.isLetter)(this.current_character))\n                this.tokens.push(new token_1.default(\"ID\", types_1.default.ID, this.createId(), Number(this.index)));\n            switch (this.current_character) {\n                case \"\\n\":\n                    continue;\n                case \":\":\n                    this.tokens.push(new token_1.default(\"COLON\", types_1.default.COLON, this.current_character, Number(this.index)));\n                    break;\n                case \"{\":\n                    this.tokens.push(new token_1.default(\"LEFT_BRACE\", types_1.default.LEFT_BRACE, this.current_character, Number(this.index)));\n                    break;\n                case \"}\":\n                    this.tokens.push(new token_1.default(\"RIGHT_BRACE\", types_1.default.RIGHT_BRACE, this.current_character, Number(this.index)));\n                    break;\n                case \"[\":\n                    this.tokens.push(new token_1.default(\"LEFT_BRACK\", types_1.default.LEFT_BRACK, this.current_character, Number(this.index)));\n                    break;\n                case \"]\":\n                    this.tokens.push(new token_1.default(\"RIGHT_BRACK\", types_1.default.RIGHT_BRACK, this.current_character, Number(this.index)));\n                    break;\n                case \"(\":\n                    this.tokens.push(new token_1.default(\"LEFT_PAREN\", types_1.default.LEFT_PAREN, this.current_character, Number(this.index)));\n                    break;\n                case \")\":\n                    this.tokens.push(new token_1.default(\"RIGHT_PAREN\", types_1.default.RIGHT_PAREN, this.current_character, Number(this.index)));\n                    break;\n            }\n            this.advance();\n        }\n        return this.tokens;\n    }\n}\nexports.default = Lexer;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = __importDefault(require(\"./types\"));\nclass Parser {\n    constructor(tokens) {\n        this.index = 0;\n        this.current_token = null;\n        this.json = {};\n        this.tokens = tokens;\n        this.current_token = this.tokens[this.index];\n    }\n    advance() {\n        if (this.index >= this.tokens.length) {\n            this.current_token = null;\n        }\n        else\n            this.current_token = this.tokens[++this.index];\n    }\n    lookahead(position) {\n        if (position >= this.tokens.length)\n            return null;\n        return this.tokens[this.index + position];\n    }\n    lookback(position) {\n        if (position >= this.tokens.length)\n            return null;\n        return this.tokens[this.index - position];\n    }\n    parse() {\n        var _a, _b;\n        if (this.current_token.type != types_1.default.LEFT_BRACE)\n            return;\n        this.advance();\n        while (this.current_token != null) {\n            if (this.current_token.type == types_1.default.ID && ((_a = this.lookahead(1)) === null || _a === void 0 ? void 0 : _a.type) == types_1.default.COLON) {\n                this.json[this.current_token.value] = (_b = this.lookahead(2)) === null || _b === void 0 ? void 0 : _b.value;\n            }\n            this.advance();\n        }\n        return this.json;\n    }\n}\nexports.default = Parser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Token {\n    constructor(name, type, value, index) {\n        this.__name = name;\n        this.__type = type;\n        this.__value = value;\n        this.__index = index;\n    }\n    get value() {\n        return this.__value;\n    }\n    get name() {\n        return this.__name;\n    }\n    get type() {\n        return this.__type;\n    }\n    get index() {\n        return this.__index;\n    }\n}\nexports.default = Token;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types;\n(function (Types) {\n    Types[Types[\"ID\"] = 0] = \"ID\";\n    Types[Types[\"INT\"] = 1] = \"INT\";\n    Types[Types[\"STR\"] = 2] = \"STR\";\n    Types[Types[\"COLON\"] = 3] = \"COLON\";\n    Types[Types[\"NUMBER\"] = 4] = \"NUMBER\";\n    Types[Types[\"LEFT_BRACE\"] = 5] = \"LEFT_BRACE\";\n    Types[Types[\"RIGHT_BRACE\"] = 6] = \"RIGHT_BRACE\";\n    Types[Types[\"LEFT_BRACK\"] = 7] = \"LEFT_BRACK\";\n    Types[Types[\"RIGHT_BRACK\"] = 8] = \"RIGHT_BRACK\";\n    Types[Types[\"LEFT_PAREN\"] = 9] = \"LEFT_PAREN\";\n    Types[Types[\"RIGHT_PAREN\"] = 10] = \"RIGHT_PAREN\";\n})(Types || (Types = {}));\nexports.default = Types;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst parser_1 = __importDefault(require(\"./htaml/parser\"));\nconst stepper_1 = __importDefault(require(\"./htaml/stepper\"));\nconst utils_1 = require(\"./core/utils\");\nconst stylesheet_1 = __importDefault(require(\"./htaml/stylesheet\"));\n(function () {\n    window.htaml = window.htaml || {};\n    let __logger = true;\n    const em = new utils_1.EventEmitter();\n    window.htaml.em = em;\n    function logger(message, type = \"info\") {\n        if (__logger) {\n            switch (type) {\n                case \"info\":\n                    console.info(`[+] HTAML Logger:  ${message}`);\n                    break;\n                case \"warn\":\n                    console.warn(`[+] HTAML Logger:  ${message}`);\n                    break;\n                case \"error\":\n                    console.error(`[+] HTAML Logger:  ${message}`);\n                    break;\n                default:\n                    console.log(`[+] HTAML Logger:  ${message}`);\n                    break;\n            }\n        }\n    }\n    window.htaml.logger = logger;\n    window.addEventListener(\"DOMContentLoaded\", (args) => __awaiter(this, void 0, void 0, function* () {\n        const style = document.createElement(\"style\");\n        stylesheet_1.default.forEach((_) => (style.textContent = style.textContent += _()));\n        document.head.insertAdjacentElement(\"beforeend\", style);\n        (0, utils_1.createEvent)(document, \"htaml:init\", args);\n        const hParser = new parser_1.default();\n        const elementsObject = yield hParser.parseDomElements(document.body.children);\n        document.body.classList.remove(\"htaml-none\");\n        logger(\"dom parsed\");\n        (0, utils_1.createEvent)(document, \"htaml:parsed\", elementsObject);\n        new stepper_1.default(elementsObject);\n        logger(\"all htaml elements processed\");\n        (0, utils_1.createEvent)(document, \"htaml:processed\", elementsObject);\n    }));\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(607);\n"],"names":["HTAML_STATE","Object","defineProperty","exports","value","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","htamlPost","htamlGet","url","async","config","xhr","XMLHttpRequest","open","hasOwnProperty","withCredentials","credentials","timeout","Number","entries","headers","forEach","_h","setRequestHeader","onload","req","_r","content","response","body","status","JSON","parse","responseText","error","send","data","useFormData","toLowerCase","form","FormData","entry","append","urlEncodeData","_d","push","encodeURIComponent","htamlEval","htamlEvalHScript","EventEmitter","createEvent","isLetter","isNumber","isWhiteSpace","getVariable","removeClassesFromHTAMLElement","replaceVariable","removeHTAMLAttributeFromHTAMLElement","cloneHTAMLNode","config_1","htamlElement","options","cloneAll","removeOriginal","clone","id","root","cloneNode","parent","request","variables","childrens","attributes","remove","attribute","filter","_a","action","removeAttribute","stringify","isIf","varsToReplace","match","length","variable","substring","replace","RegExp","source","tagName","H_SCRIPT","_","vars","variableData","tmpData","includes","split","splice","classes","x","classList","varName","str","test","element","eventName","args","CustomEvent","HTMLElement","dispatchEvent","detail","constructor","listeners","listenerCount","func","rawListener","addListener","removeListener","emit","funcs","f","once","off","on","code","Function","eval","logger","_elementId","_element","_elements","attribute_regex","removeChildNodesFromHTAMLElement","map","createEventOnHTAMLElement","Event","handleDomAttribute","_ms","document","querySelector","_tn","outerHTML","parseDomElements","children","innerHTML","add","removeHTAMLAttributesFromHTAMLElement","a","getAttributeNames","extractHTAMLAttributesFromElement","toString","startsWith","getAttribute","_parseElementChildrens","_childrens","_c","_parseElement","_parseHScriptElement","setAttribute","parentElement","domId","parsedElements","parsed","elements","__importDefault","mod","__esModule","utils_1","req_1","parser_1","htaml_jparser_1","htamlElements","htamlParser","default","parsedHTAMLElements","__stepThroughHTAMLElements","catch","console","__handleOnAttribute","_lis","_p","_e","target","removeEventListener","setTimeout","__stepThroughHTAMLElement","addEventListener","preventDefault","inputs","querySelectorAll","input","name","textAreas","textArea","__handleReqAttribute","res","keys","__handleRunAttribute","varToReplace","loopTarget","__processNode","assign","child","appendChild","_htamlElement","index","dataObject","__handleHScript","innerText","__handleDomAttribute","values","slice","modifier","attr","contains","targets","find","_tmpValues","v","t","textContent","i","charAt","isModified","modifiers","nextSibling","insertAdjacentElement","hasTitle","title","json","reverse","insertAdjacentText","trim","lexer_1","jsonLikeString","tokens","toTokens","types_1","token_1","jsonLikeObject","current_character","advance","createId","createString","matchCharacter","tmp_str","createNumber","INT","STR","ID","COLON","LEFT_BRACE","RIGHT_BRACE","LEFT_BRACK","RIGHT_BRACK","LEFT_PAREN","RIGHT_PAREN","current_token","lookahead","position","lookback","_b","type","__name","__type","__value","__index","Types","stepper_1","stylesheet_1","window","htaml","em","message","info","warn","log","style","createElement","head","hParser","elementsObject","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call","__webpack_exports__"],"sourceRoot":""}